
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>Build with AI on Android Session 1 - MediaPipe í™œìš©í•˜ê¸°</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://storage.googleapis.com/claat-public/codelab-elements.css">
  <style>
    .success {
      color: #1e8e3e;
    }
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <google-codelab-analytics gaid="UA-49880327-14" ga4id=""></google-codelab-analytics>
  <google-codelab codelab-gaid=""
                  codelab-ga4id=""
                  id="mediapipe_face_stylizer_android"
                  title="Build with AI on Android Session 1 - MediaPipe í™œìš©í•˜ê¸°"
                  environment="web"
                  feedback-link="">
    
      <google-codelab-step label="Build with AI ìº í˜ì¸ í¬ë˜ë”§ ë“±ë¡" duration="0">
        <p>ì—¬ëŸ¬ë¶„ì˜ ì°¸ê°€ìë¶„ë“¤ì´ ë³„ë„ì˜ ê²°ì œ ìˆ˜ë‹¨(ì˜ˆ: ì‹ ìš©ì¹´ë“œ) ë“±ë¡ ì—†ì´ Google Cloud Platformì„ ë¬´ë£Œë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡, ì•„ë˜ ë§í¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤.<br>Google ê³„ì •ìœ¼ë¡œ íšŒì›ê°€ì…í•˜ê³  Free Tierë¥¼ í™œì„±í™”í•˜ëŠ” ë°©ë²•ì€ [ë³„ë„ ì•ˆë‚´ ìë£Œ(Deck)](ì²¨ë¶€ ì˜ˆì •)ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p><a href="https://trygcp.dev/e/build-ai-KRA01" target="_blank"><paper-button class="colored" raised>ìº í˜ì¸ í¬ë˜ë”§ ë°›ìœ¼ëŸ¬ ê°€ê¸°</paper-button></a>   <a href="https://docs.google.com/presentation/d/1fnQNauWcxgt5eqhTAuaBGn2giNQU6f_f_fv3R7nAvp4/edit?usp=sharing&resourcekey=0-dlnAU4LYN8QV27uVMLeIQA" target="_blank"><paper-button class="colored" raised>ìº í˜ì¸ ë“±ë¡ ë°©ë²• ê°€ì´ë“œ</paper-button></a> </p>
<p><strong>ì¤‘ìš”:</strong></p>
<ul>
<li>ì´ ë§í¬ëŠ” ë°˜ë“œì‹œ <strong>í–‰ì‚¬ ë‹¹ì¼, ì›Œí¬ìˆ ì‹œê°„ ì¤‘ì—ë§Œ</strong> ì°¸ê°€ìë“¤ì—ê²Œ ê³µìœ í•´ ì£¼ì„¸ìš”.</li>
<li>ë§í¬ë¥¼ ë¯¸ë¦¬ ê³µê°œí•˜ê±°ë‚˜ ì‚¬ì „ì— ë°°í¬í•˜ì§€ ë§ì•„ ì£¼ì„¸ìš”.<br></li>
</ul>


      </google-codelab-step>
    
      <google-codelab-step label="Introduction" duration="5">
        <p><strong>Last Updated:</strong> 2025-04-26</p>
<h2 is-upgraded><strong>1.1 MediaPipe ì†Œê°œ</strong></h2>
<p><a href="https://developers.google.com/mediapipe/solutions/guide?hl=ko" target="_blank">MediaPipe ì†”ë£¨ì…˜</a>ì„ ì‚¬ìš©í•˜ë©´ ë¨¸ì‹ ëŸ¬ë‹(ML) ì†”ë£¨ì…˜ì„ ì•±ì— ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì†”ë£¨ì…˜ìœ¼ë¡œ ì œê³µë˜ëŠ” í”„ë ˆì„ì›Œí¬ë¥¼ í†µí•´ ì‚¬ìš©ìì—ê²Œ ì¦‰ê°ì ì´ê³ , ë§¤ë ¥ì ì´ê³ , ìœ ìš©í•œ ì¶œë ¥ì„ ì œê³µí•˜ëŠ” ì‚¬ì „ ë¹Œë“œëœ ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ì„ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <a href="https://developers.google.com/mediapipe/solutions/model_maker?hl=ko" target="_blank">MediaPipe Model Maker</a>ë¥¼ ì‚¬ìš©í•´ì„œ ì´ëŸ¬í•œ ì†”ë£¨ì…˜ì„ ë§ì¶¤ì„¤ì •í•˜ì—¬ ê¸°ë³¸ ëª¨ë¸ì„ ì—…ë°ì´íŠ¸í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</p>
<h3 is-upgraded><strong>ì£¼ìš” íŠ¹ì§•</strong></h3>
<ul>
<li><strong>ì˜¨ë””ë°”ì´ìŠ¤(on-device) ì‹¤í–‰<br></strong> ì„œë²„ì— ìš”ì²­ì„ ë³´ë‚´ì§€ ì•Šê³ , ë””ë°”ì´ìŠ¤ ë‚´ì—ì„œ ì§ì ‘ ìŠ¤íƒ€ì¼ ë³€í™˜ ì²˜ë¦¬ê°€ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.<br> â†’ ë¹ ë¥¸ ë°˜ì‘ì†ë„, ë›°ì–´ë‚œ ê°œì¸ì •ë³´ ë³´í˜¸<br></li>
<li><strong>ê³ ì† ê²½ëŸ‰ ëª¨ë¸<br></strong> ëª¨ë°”ì¼ í™˜ê²½ì— ìµœì í™”ë˜ì–´ ìˆì–´, ë¦¬ì†ŒìŠ¤ ì†Œëª¨ê°€ ì ê³  ì‹¤ì‹œê°„ ë³€í™˜ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.<br></li>
<li><strong>ë‹¤ì–‘í•œ ìŠ¤íƒ€ì¼ ì§€ì›<br></strong> Mediapipe ê¸°ë³¸ ëª¨ë¸ì—ëŠ” ì—¬ëŸ¬ ìŠ¤íƒ€ì¼ í”„ë¦¬ì…‹ì´ í¬í•¨ë˜ì–´ ìˆìœ¼ë©°,<br> í•„ìš”í•˜ë©´ ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼ë¡œ ëª¨ë¸ì„ ì¬í•™ìŠµí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</li>
</ul>
<p class="image-container"><img style="width: 624.00px" src="img/dc51547d47a30881.png"></p>
<p>ë‹¤ìŒ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ë¦¬ì†ŒìŠ¤ëŠ” ê° MediaPipe ì†”ë£¨ì…˜ì˜ í•µì‹¬ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
<ul>
<li><strong>MediaPipe Tasks</strong>: ì†”ë£¨ì…˜ì„ ë°°í¬í•˜ê¸° ìœ„í•œ í¬ë¡œìŠ¤ í”Œë«í¼ API ë° ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. <a href="https://ai.google.dev/edge/mediapipe/solutions/tasks?hl=ko" target="_blank">ìì„¸íˆ ì•Œì•„ë³´ê¸°</a></li>
<li><strong>MediaPipe ëª¨ë¸</strong>: ê° ì†”ë£¨ì…˜ê³¼ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì„ í–‰ í•™ìŠµëœ ì‹¤í–‰ ì¤€ë¹„ ìƒíƒœì˜ ëª¨ë¸ì…ë‹ˆë‹¤.</li>
</ul>
<p>ë‹¤ìŒ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì†”ë£¨ì…˜ì„ ë§ì¶¤ì„¤ì •í•˜ê³  í‰ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<ul>
<li><strong>MediaPipe Model Maker</strong>: ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ì†”ë£¨ì…˜ìš© ëª¨ë¸ì„ ë§ì¶¤ì„¤ì •í•©ë‹ˆë‹¤. <a href="https://ai.google.dev/edge/mediapipe/solutions/model_maker?hl=ko" target="_blank">ìì„¸íˆ ì•Œì•„ë³´ê¸°</a></li>
<li><strong>MediaPipe ìŠ¤íŠœë””ì˜¤</strong>: ë¸Œë¼ìš°ì €ì—ì„œ ì†”ë£¨ì…˜ì„ ì‹œê°í™”, í‰ê°€, ë²¤ì¹˜ë§ˆí‚¹í•©ë‹ˆë‹¤. <a href="https://ai.google.dev/edge/mediapipe/solutions/studio?hl=ko" target="_blank">ìì„¸íˆ ì•Œì•„ë³´ê¸°</a></li>
</ul>
<h2 is-upgraded><strong>1.2 MediaPipe Studio</strong></h2>
<p>MediaPipe Studioë¥¼ ì´ìš©í•˜ë©´ Android ë””ë°”ì´ìŠ¤ ì—†ì´ë„, ë¸Œë¼ìš°ì €ì—ì„œ ë°”ë¡œ ë‹¤ì–‘í•œ ì†”ë£¨ì…˜(ì˜ˆ: ì–¼êµ´ ìŠ¤íƒ€ì¼ ë³€í™˜, ê°ì²´ ê°ì§€, ì† ëœë“œë§ˆí¬ ê°ì§€ ë“±)ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>â” MediaPipe Studioë¡œ ì´ë™í•´ì„œ ë°ëª¨ ì²´í—˜í•˜ê¸°: <a href="https://mediapipe-studio.webapps.google.com/home" target="_blank">https://mediapipe-studio.webapps.google.com/home</a></p>
<p class="image-container"><img style="width: 624.00px" src="img/50fb106841a6d5ab.png"></p>
<h2 is-upgraded>1.3 í•™ìŠµí•  ë‚´ìš©</h2>
<p>ì´ Codelabì—ì„œëŠ” ë¹„ì–´ ìˆëŠ” í”„ë¡œì íŠ¸ë¡œ ì‹œì‘í•˜ì—¬ <a href="https://developers.google.com/mediapipe/solutions/tasks?hl=ko" target="_blank">MediaPipe íƒœìŠ¤í¬</a>ë¥¼ ì‚¬ìš©í•˜ì—¬ Android ê¸°ê¸°ì—ì„œ ë¡œì»¬ë¡œ ì‹¤í–‰ë˜ëŠ”  &#34;ì–¼êµ´ ìŠ¤íƒ€ì¼ ì§€ì • (Face Stylizer)&#34; ì†”ë£¨ì…˜ì„ ì§ì ‘ ì ìš©í•˜ëŠ” ë°©ë²•ì„ ë°°ì›Œë´…ë‹ˆë‹¤.</p>
<h2 is-upgraded>1.4 <a href="https://ai.google.dev/edge/mediapipe/solutions/setup_android?hl=ko" target="_blank">í•„ìš”í•œ í•­ëª©</a></h2>
<ul>
<li><a href="https://developer.android.com/studio/index.html?hl=ko" target="_blank">Android ìŠ¤íŠœë””ì˜¤</a> 2021.1.1 (Bumblebee) ì´ìƒ ê¶Œì¥ ë²„ì „ ë˜ëŠ” í˜¸í™˜ë˜ëŠ” ë‹¤ë¥¸ ë²„ì „ ì§€ì›í•©ë‹ˆë‹¤.</li>
<li>Android SDK ë²„ì „ 24 ì´ìƒ</li>
<li>ìµœì†Œ SDK ë²„ì „ ì´ìƒì˜ Android ê¸°ê¸° Android Emulator ì¼ë¶€ íƒœìŠ¤í¬ì—ëŠ” ì‘ë™í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
</ul>
<h2 is-upgraded>1.5 <strong> ì•ˆë‚´: Android SDK ê¸°ë³¸ êµ¬í˜„ ë²”ìœ„ ì œì™¸</strong></h2>
<p>ì´ ì½”ë“œë©ì€ <strong>MediaPipe Face Stylizer ê¸°ëŠ¥ì„ Android ì•±ì— í†µí•©í•˜ëŠ” ì‹¤ìŠµ</strong>ì„ ì¤‘ì‹¬ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>
<ul>
<li>Android Studio ì„¤ì¹˜, ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ ìƒì„±, ê¸°ë³¸ì ì¸ Compose ì»´í¬ë„ŒíŠ¸ ì‘ì„± ë“±<br></li>
<li><strong>Android SDK ë° Compose ê¸°ë³¸ ë¬¸ë²•ê³¼ êµ¬í˜„ ë°©ë²•</strong>ì€ ë³„ë„ë¡œ ì„¤ëª…í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br></li>
</ul>
<p><strong>ì°¸ì—¬ ëŒ€ìƒ:</strong> Android Studioì™€ Kotlin/Compose ê¸°ë³¸ ì‚¬ìš©ë²•ì— ìµìˆ™í•œ ê°œë°œì</p>
<p>ë§Œì•½ Android SDKë‚˜ Compose ê¸°ì´ˆê°€ í•„ìš”í•˜ë‹¤ë©´, ë‹¤ìŒ ê³µì‹ ìë£Œë¥¼ ì°¸ê³ í•˜ì„¸ìš”:</p>
<ul>
<li><a href="https://developer.android.com/guide" target="_blank">Android Developers ê³µì‹ ê°€ì´ë“œ<br></a></li>
<li><a href="https://developer.android.com/jetpack/compose/documentation" target="_blank">Jetpack Compose ê³µì‹ ë¬¸ì„œ</a></li>
</ul>


      </google-codelab-step>
    
      <google-codelab-step label="Face stylizer ê°œìš”" duration="5">
        <aside class="warning"><p><strong>ì£¼ì˜:</strong> MediaPipe Face Stylizer ì‘ì—…ì€ ì‹¤í—˜ìš©ì´ë©° í˜„ì¬ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤.</p>
</aside>
<p>MediaPipe Face Stylizer ì‘ì—…ì„ ì‚¬ìš©í•˜ë©´ ì´ë¯¸ì§€ì˜ ì–¼êµ´ì— ì–¼êµ´ ìŠ¤íƒ€ì¼ ì§€ì •ì„ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ íƒœìŠ¤í¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤ì–‘í•œ ìŠ¤íƒ€ì¼ì˜ ê°€ìƒ ì•„ë°”íƒ€ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p><a href="https://mediapipe-studio.webapps.google.com/studio/demo/face_stylizer?hl=ko" target="_blank"><paper-button class="colored" raised>ì‚¬ìš©í•´ë³´ê¸°</paper-button></a></p>
<p class="image-container"><img style="width: 312.00px" src="img/842c9111bf9c59b0.png"></p>
<h2 is-upgraded><strong>2.1 ëª¨ë¸</strong></h2>
<p>ì´ ì‘ì—…ì—ì„œëŠ” ì–¼êµ´ ìƒì„±ê¸°ì™€ ì–¼êµ´ ì¸ì½”ë”ë¡œ êµ¬ì„±ëœ BlazeFaceStylizer ëª¨ë¸ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. <a href="https://arxiv.org/abs/1812.04948" target="_blank">StyleGAN</a> ëª¨ë¸ ì œí’ˆêµ°ì˜ ê²½ëŸ‰ êµ¬í˜„ì¸ BlazeStyleGAN ì–¼êµ´ ìƒì„±ê¸°ëŠ” ì§€ì •ëœ ìŠ¤íƒ€ì¼ì— ë”°ë¼ ì–¼êµ´ì„ ìƒì„±í•˜ê³  ìˆ˜ì •í•©ë‹ˆë‹¤. <a href="https://arxiv.org/abs/1801.04381" target="_blank">MobileNet V2</a> ë°±ë³¸ì„ ì‚¬ìš©í•˜ëŠ” ì–¼êµ´ ì¸ì½”ë”ëŠ” ì…ë ¥ ì´ë¯¸ì§€ë¥¼ ì–¼êµ´ ìƒì„±ê¸°ì—ì„œ ìƒì„±í•œ ì–¼êµ´ì— ë§¤í•‘í•©ë‹ˆë‹¤. ì–¼êµ´ ìŠ¤íƒ€ì¼ë¼ì´ì €ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì–¼êµ´ ìŠ¤íƒ€ì¼ ì§€ì • ëª¨ë¸ì„ ë‹¤ìš´ë¡œë“œí•˜ì—¬ í”„ë¡œì íŠ¸ ë””ë ‰í„°ë¦¬ì— ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤. ê° ëª¨ë¸ì€ ì…ë ¥ ì´ë¯¸ì§€ ë‚´ ì–¼êµ´ì— íŠ¹ì • ìŠ¤íƒ€ì¼ì„ ì ìš©í•˜ë„ë¡ í•™ìŠµë˜ì—ˆìŠµë‹ˆë‹¤.</p>
<aside class="warning"><p><strong>ì°¸ê³ :</strong> ì´ íƒœìŠ¤í¬ëŠ” ì œê³µëœ ML ëª¨ë¸ê³¼ ë§ì¶¤ ëª¨ë¸ì˜ ìˆ˜ì •ì„ ì§€ì›í•©ë‹ˆë‹¤. ì´ ì‘ì—…ì— ìˆ˜ì •ëœ ëª¨ë¸ ë˜ëŠ” ë§ì¶¤ ëª¨ë¸ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì— ê´€í•œ ìì„¸í•œ ë‚´ìš©ì€ <a href="https://ai.google.dev/edge/mediapipe/solutions/customization/face_stylizer?hl=ko" target="_blank">ë§ì¶¤ì„¤ì • ê°€ì´ë“œ</a>ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.</p>
</aside>
<h3 is-upgraded><strong>ìƒ‰ìƒ ìŠ¤ì¼€ì¹˜</strong></h3>
<p>ì´ ëª¨ë¸ì€ ì–¼êµ´ì„ ìƒ‰ì—°í•„ íšê³¼ ë¸ŒëŸ¬ì‹œ íšìœ¼ë¡œ ìŠ¤ì¼€ì¹˜ë¥¼ ëª¨ë°©í•œ ì´ë¯¸ì§€ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. ì´ ëª¨ë¸ì„ í•™ìŠµí•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ìŠ¤íƒ€ì¼ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.</p>
<h2 is-upgraded><img alt="ì»¬ëŸ¬ ìŠ¤ì¼€ì¹˜ ì¶œë ¥" style="width: 287.04px" src="img/af41e86a1c0daf35.png"></h2>
<table>
<tr><td colspan="1" rowspan="1"><p>ëª¨ë¸ ì´ë¦„</p>
</td><td colspan="1" rowspan="1"><p>ì…ë ¥ ì…°ì´í”„</p>
</td><td colspan="1" rowspan="1"><p>ì–‘ìí™” ìœ í˜•</p>
</td><td colspan="1" rowspan="1"><p>ë²„ì „</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p><a href="https://storage.googleapis.com/mediapipe-models/face_stylizer/blaze_face_stylizer/float32/latest/face_stylizer_color_sketch.task" target="_blank">ì»¬ëŸ¬ ìŠ¤ì¼€ì¹˜</a></p>
</td><td colspan="1" rowspan="1"><p>256 x 256 x 3</p>
</td><td colspan="1" rowspan="1"><p>Float32</p>
</td><td colspan="1" rowspan="1"><p><a href="https://storage.googleapis.com/mediapipe-models/face_stylizer/blaze_face_stylizer/float32/latest/face_stylizer_color_sketch.task" target="_blank">ìµœì‹ </a></p>
</td></tr>
</table>
<h3 is-upgraded><strong>ì»¬ëŸ¬ ì‰í¬</strong></h3>
<p>ì´ ëª¨ë¸ì€ ì–¼êµ´ì„ ìˆ˜ì±„í™” ê·¸ë¦¼ì„ ëª¨ë°©í•œ ì´ë¯¸ì§€ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. ì´ ëª¨ë¸ì„ í•™ìŠµí•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ìŠ¤íƒ€ì¼ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.</p>
<h2 is-upgraded><img alt="ì»¬ëŸ¬ ì‰í¬ ì¶œë ¥" style="width: 288.00px" src="img/e6898e872b6e08fc.png"></h2>
<table>
<tr><td colspan="1" rowspan="1"><p>ëª¨ë¸ ì´ë¦„</p>
</td><td colspan="1" rowspan="1"><p>ì…ë ¥ ì…°ì´í”„</p>
</td><td colspan="1" rowspan="1"><p>ì–‘ìí™” ìœ í˜•</p>
</td><td colspan="1" rowspan="1"><p>ë²„ì „</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p><a href="https://storage.googleapis.com/mediapipe-models/face_stylizer/blaze_face_stylizer/float32/latest/face_stylizer_color_ink.task" target="_blank">ì»¬ëŸ¬ ì‰í¬</a></p>
</td><td colspan="1" rowspan="1"><p>256 x 256 x 3</p>
</td><td colspan="1" rowspan="1"><p>Float32</p>
</td><td colspan="1" rowspan="1"><p><a href="https://storage.googleapis.com/mediapipe-models/face_stylizer/blaze_face_stylizer/float32/latest/face_stylizer_color_ink.task" target="_blank">ìµœì‹ </a></p>
</td></tr>
</table>
<h3 is-upgraded><strong>ìœ í™”</strong></h3>
<p>ì´ ëª¨ë¸ì€ ì–¼êµ´ì„ ìœ í™”ë¥¼ ëª¨ë°©í•œ ì´ë¯¸ì§€ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. ì´ ëª¨ë¸ì„ í•™ìŠµí•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ìŠ¤íƒ€ì¼ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.</p>
<h2 is-upgraded><img alt="ìœ í™” ì¶œë ¥" style="width: 288.00px" src="img/41392e1af5a325e.png"></h2>
<table>
<tr><td colspan="1" rowspan="1"><p>ëª¨ë¸ ì´ë¦„</p>
</td><td colspan="1" rowspan="1"><p>ì…ë ¥ ì…°ì´í”„</p>
</td><td colspan="1" rowspan="1"><p>ì–‘ìí™” ìœ í˜•</p>
</td><td colspan="1" rowspan="1"><p>ë²„ì „</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p><a href="https://storage.googleapis.com/mediapipe-models/face_stylizer/blaze_face_stylizer/float32/latest/face_stylizer_oil_painting.task" target="_blank">ìœ í™”</a></p>
</td><td colspan="1" rowspan="1"><p>256 x 256 x 3</p>
</td><td colspan="1" rowspan="1"><p>Float32</p>
</td><td colspan="1" rowspan="1"><p><a href="https://storage.googleapis.com/mediapipe-models/face_stylizer/blaze_face_stylizer/float32/latest/face_stylizer_oil_painting.task" target="_blank">ìµœì‹ </a></p>
</td></tr>
</table>
<h2 is-upgraded><strong>2.2 Face Stylizer ë™ì‘ íë¦„ ìš”ì•½</strong></h2>
<ol type="1" start="1">
<li><strong>ì´ë¯¸ì§€ ì…ë ¥ : </strong>ê°¤ëŸ¬ë¦¬ ì„ íƒ<br></li>
<li><strong>ì–¼êµ´ ê²€ì¶œ ë° ìŠ¤íƒ€ì¼ ë³€í™˜ : </strong>Mediapipe Tasks APIë¥¼ í†µí•´ ì–¼êµ´ì„ ì¸ì‹í•˜ê³  ìŠ¤íƒ€ì¼ì„ ì ìš©<br></li>
<li><strong>ìŠ¤íƒ€ì¼ë§ëœ ì´ë¯¸ì§€ ì¶œë ¥ : </strong>ë³€í™˜ ê²°ê³¼ë¥¼ í™”ë©´ìœ¼ë¡œ ì‹¤ì‹œê°„ í‘œì‹œ</li>
</ol>
<h2 is-upgraded><strong>2.3 ì°¸ê³ : ê³µì‹ ìƒ˜í”Œ ì½”ë“œ</strong></h2>
<p>Face StylizerëŠ” Mediapipe ê³µì‹ GitHubì—ì„œë„ Android ìƒ˜í”Œ í”„ë¡œì íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.<br> ì‹¤ìŠµ ì¤‘ ì°¸ê³ í•˜ê±°ë‚˜ ì¶”ê°€ í•™ìŠµì„ ì›í•  ê²½ìš°, ë‹¤ìŒ ë§í¬ë¥¼ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ğŸ‘‰<a href="https://github.com/google-ai-edge/mediapipe-samples/tree/main/examples/face_stylizer/android" target="_blank">ê³µì‹ Mediapipe Face Stylizer Android ìƒ˜í”Œ ì½”ë“œ</a></p>
<p class="image-container"><img style="width: 328.60px" src="img/15cfe78d7b6255c4.png"></p>


      </google-codelab-step>
    
      <google-codelab-step label="Android Project ìƒì„±" duration="10">
        <h2 is-upgraded><strong>3.1 Android Studio ì¤€ë¹„</strong></h2>
<p>ì´ ì½”ë“œë©ì—ì„œëŠ” Android Studioë¥¼ ì‚¬ìš©í•˜ì—¬ Compose ê¸°ë°˜ Android í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>
<h3 is-upgraded><strong>í•„ìˆ˜ ê°œë°œ í™˜ê²½</strong></h3>
<ul>
<li>Android Studio <strong>Giraffe</strong> ì´ìƒ (ê¶Œì¥: <strong>Narwhal Canary 7</strong> ì´ìƒ)<br></li>
<li>Kotlin ë²„ì „ <strong>1.9.22</strong> ì´ìƒ<br></li>
<li>Android SDK API Level <strong>24</strong> ì´ìƒ<br></li>
<li>í…ŒìŠ¤íŠ¸ìš© ì‹¤ì œ ë””ë°”ì´ìŠ¤ (ì—ë®¬ë ˆì´í„°ë„ ê°€ëŠ¥í•˜ì§€ë§Œ, ì¼ë¶€ ê¸°ëŠ¥ì´ ë™ì‘í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.)<br></li>
</ul>
<aside class="special"><p><strong>Tip </strong>Narwhal Canary ë²„ì „ì€ Gemini Assistant ì´ë¯¸ì§€ ê¸°ëŠ¥ë„ í•¨ê»˜ ì§€ì›í•˜ë¯€ë¡œ, ìµœì‹  ë²„ì „ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤.</p>
</aside>
<h2 is-upgraded><strong>3.2 ìƒˆ Android í”„ë¡œì íŠ¸ ë§Œë“¤ê¸°</strong></h2>
<ol type="1" start="1">
<li><strong>Android Studio</strong>ë¥¼ ì—´ê³  <strong>New Project</strong>ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.<br></li>
<li>í…œí”Œë¦¿ìœ¼ë¡œ <strong>Empty Compose Activity</strong>ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.<br></li>
<li>í”„ë¡œì íŠ¸ ì •ë³´ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•©ë‹ˆë‹¤</li>
<li>Finishë¥¼ ëˆŒëŸ¬ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.<br></li>
</ol>
<table>
<tr><td colspan="1" rowspan="1"><p><strong>í•­ëª©</strong></p>
</td><td colspan="1" rowspan="1"><p><strong>ì„¤ì • ê°’</strong></p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>Name</p>
</td><td colspan="1" rowspan="1"><p>FaceStylizerApp</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>Package Name</p>
</td><td colspan="1" rowspan="1"><p>ì›í•˜ëŠ” ì´ë¦„ ì‚¬ìš© (ì˜ˆ: com.example.facestylizer)</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>Language</p>
</td><td colspan="1" rowspan="1"><p>Kotlin</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>Minimum SDK</p>
</td><td colspan="1" rowspan="1"><p>API 24 ì´ìƒ</p>
</td></tr>
</table>
<h2 is-upgraded><strong>3.3 Gradle ì„¤ì •</strong></h2>
<h3 is-upgraded><strong>build.gradle (app)</strong></h3>
<pre><code>dependencies {
    // MediaPipe Tasks Android ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€
    implementation &#39;com.google.mediapipe:tasks-vision:0.10.14&#39; 
    // // ì´ë¯¸ì§€ í‘œì‹œ
    implementation &#34;io.coil-kt:coil-compose:2.7.0&#34;
}</code></pre>
<aside class="special"><p><strong>ì°¸ê³ : </strong>MediaPipe TasksëŠ” <strong>tasks-vision</strong> íŒ¨í‚¤ì§€ë¥¼ í†µí•´ Vision ê´€ë ¨ Task (Face Stylizer í¬í•¨)ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
</aside>


      </google-codelab-step>
    
      <google-codelab-step label="ì…ë ¥ ì´ë¯¸ì§€ ì„ íƒ (ê°¤ëŸ¬ë¦¬)" duration="15">
        <p>Face Stylizerë¥¼ ì ìš©í•˜ë ¤ë©´ ë¨¼ì € ì‚¬ìš©ìì˜ ì–¼êµ´ ì´ë¯¸ì§€ë¥¼ ì¤€ë¹„í•´ì•¼ í•©ë‹ˆë‹¤.</p>
<p>ì´ ë‹¨ê³„ì—ì„œëŠ” <strong>ê°¤ëŸ¬ë¦¬ì—ì„œ ì´ë¯¸ì§€ë¥¼ ì„ íƒí•˜ëŠ” ê¸°ëŠ¥</strong>ì„ êµ¬í˜„í•©ë‹ˆë‹¤.</p>
<h2 is-upgraded><strong>4.1 ê°¤ëŸ¬ë¦¬ ì—´ê¸° ë° ì‚¬ì§„ ì„ íƒ</strong></h2>
<p><code>GalleryPicker.kt</code> í´ë˜ìŠ¤ë¥¼ ìƒˆë¡œ ìƒì„±í•´ ì¤ë‹ˆë‹¤.</p>
<h3 is-upgraded><strong>GalleryPicker.kt</strong></h3>
<pre><code>import android.net.Uri
import androidx.activity.compose.rememberLauncherForActivityResult
import androidx.activity.result.contract.ActivityResultContracts
import androidx.compose.foundation.layout.Box
import androidx.compose.foundation.layout.fillMaxWidth
import androidx.compose.material3.Button
import androidx.compose.material3.Text
import androidx.compose.runtime.Composable
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.activity.result.PickVisualMediaRequest

@Composable
fun GalleryPicker(
   onImageSelected: (Uri) -&gt; Unit
) {
   val launcher = rememberLauncherForActivityResult(
       contract = ActivityResultContracts.PickVisualMedia()
   ) { uri: Uri? -&gt;
       uri?.let { onImageSelected(it) }
   }

   Box(
       modifier = Modifier.fillMaxWidth(),
       contentAlignment = Alignment.TopCenter
   ) {
       Button(onClick = {
           launcher.launch(
               PickVisualMediaRequest(ActivityResultContracts.PickVisualMedia.ImageOnly)
           )
       }) {
           Text(text = &#34;ê°¤ëŸ¬ë¦¬ì—ì„œ ì´ë¯¸ì§€ ì„ íƒ&#34;)
       }
   }
}</code></pre>
<p>ì´ ì½”ë“œë©ì—ì„œëŠ” <a href="https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts.PickVisualMedia" target="_blank"><strong>ActivityResultContracts.PickVisualMedia()</strong></a> APIë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ì§„ ì„ íƒê¸°ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤. ì‚¬ìš©ìëŠ” ì‹œìŠ¤í…œ Photo Picker í™”ë©´ì—ì„œ ì§ì ‘ ì‚¬ì§„ì„ ì„ íƒí•˜ê±°ë‚˜ ì·¨ì†Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚¬ì§„ ì„ íƒ ë„êµ¬ ì½”ë“œì— ëŒ€í•´ì„œ ìì„¸ ì•Œê³  ì‹¶ë‹¤ë©´ ë‹¤ìŒ <a href="https://developer.android.com/training/data-storage/shared/photopicker?hl=ko" target="_blank">ë§í¬</a>ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.</p>
<p>GalleryPicker ë¥¼ ì‚¬ìš©í•´ ì´ë¯¸ì§€ë¥¼ í‘œì‹œí•´ì¤„ MainScreen ì„ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤. </p>
<h3 is-upgraded><strong>MainScreen.kt</strong></h3>
<pre><code>import android.net.Uri
import androidx.compose.foundation.layout.Arrangement
import androidx.compose.foundation.layout.Column
import androidx.compose.foundation.layout.aspectRatio
import androidx.compose.foundation.layout.fillMaxSize
import androidx.compose.foundation.layout.fillMaxWidth
import androidx.compose.runtime.Composable
import androidx.compose.runtime.getValue
import androidx.compose.runtime.mutableStateOf
import androidx.compose.runtime.remember
import androidx.compose.runtime.setValue
import androidx.compose.ui.Modifier
import androidx.compose.ui.unit.dp
import coil.compose.AsyncImage


@Composable
fun MainScreen(
   modifier: Modifier = Modifier
) {
   var selectedImageUri by remember { mutableStateOf&lt;Uri?&gt;(null) }

   Column(
       modifier = modifier
           .fillMaxSize(),
       verticalArrangement = Arrangement.spacedBy(16.dp)
   ) {
       // ê°¤ëŸ¬ë¦¬ ì—´ê¸° ë²„íŠ¼
       GalleryPicker(
           onImageSelected = { uri -&gt;
               selectedImageUri = uri
           }
       )

       // ì„ íƒí•œ ì´ë¯¸ì§€ í‘œì‹œ
       selectedImageUri?.let { uri -&gt;
           AsyncImage(
               model = uri,
               contentDescription = &#34;Selected Image&#34;,
               modifier = Modifier
                   .fillMaxWidth()
                   .aspectRatio(1f)
           )
       }
   }
}</code></pre>
<h2 is-upgraded><strong>4.2 ì¤‘ê°„ ì‹¤í–‰ ê²°ê³¼ </strong></h2>
<p>ì•±ì„ ì‹¤í–‰í•´ì„œ ì‚¬ì§„ì´ ì˜ ì„ íƒ ë˜ëŠ” ì§€ í™•ì¸í•©ë‹ˆë‹¤. </p>
<p class="image-container"><img style="width: 284.21px" src="img/4a5d223f5de58513.png"></p>


      </google-codelab-step>
    
      <google-codelab-step label="Face Stylizer Task ì ìš©" duration="25">
        <p>ì´ì œ ê°¤ëŸ¬ë¦¬ì—ì„œ ì„ íƒí•œ ì´ë¯¸ì§€ë¥¼ Mediapipe Face Stylizerë¥¼ í†µí•´ ë³€í™˜í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•©ë‹ˆë‹¤. ì´ ë‹¨ê³„ì—ì„œëŠ” Mediapipe Tasks SDKë¥¼ ì´ìš©í•´ Face Stylizerë¥¼ ì´ˆê¸°í™”í•˜ê³ , ì„ íƒí•œ ì´ë¯¸ì§€ë¥¼ ìŠ¤íƒ€ì¼ë§í•œ ê²°ê³¼ë¥¼ Compose í™”ë©´ì— í‘œì‹œí•©ë‹ˆë‹¤.</p>
<h2 is-upgraded><strong>5.1 Mediapipe Tasks ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¤€ë¹„ í™•ì¸</strong></h2>
<p>ì´ì „ 3.3 Gradle ì„¤ì •ì—ì„œ ë‹¤ìŒ ì˜ì¡´ì„±ì„ ì¶”ê°€í–ˆëŠ”ì§€ ë‹¤ì‹œ í™•ì¸í•©ë‹ˆë‹¤</p>
<h3 is-upgraded><strong>build.gradle</strong></h3>
<pre><code>dependencies {
    implementation &#39;com.google.mediapipe:tasks-vision:0.10.14&#39;
}</code></pre>
<h2 is-upgraded><strong>5.2 ëª¨ë¸ ë‹¤ìš´ë¡œë“œ ìŠ¤í¬ë¦½íŠ¸ ë§Œë“¤ê¸°</strong></h2>
<p>App ëª¨ë“ˆ í•˜ë‹¨ì— <code>download_models.gradle</code> íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. </p>
<h3 is-upgraded><strong>download_model.gradle</strong></h3>
<pre><code>/*
* Copyright 2023 The TensorFlow Authors. All Rights Reserved.
*
* Licensed under the Apache License, Version 2.0 (the &#34;License&#34;);
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*             http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an &#34;AS IS&#34; BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/

//ëª¨ë¸ ë‹¤ìš´ë¡œë“œ task ì •ì˜ 
tasks.register(&#39;downloadColorInkTask&#39;, Download) {
   src &#39;https://storage.googleapis.com/mediapipe-models/face_stylizer/blaze_face_stylizer/float32/latest/face_stylizer_color_ink.task&#39;
   dest project.ext.ASSET_DIR + &#39;/face_stylizer_color_ink.task&#39;
   overwrite false
}

tasks.register(&#39;downloadColorSketchTask&#39;, Download) {
   src &#39;https://storage.googleapis.com/mediapipe-models/face_stylizer/blaze_face_stylizer/float32/latest/face_stylizer_color_sketch.task&#39;
   dest project.ext.ASSET_DIR + &#39;/face_stylizer_color_sketch.task&#39;
   overwrite false
}

tasks.register(&#39;downloadOilPainting&#39;, Download) {
   src &#39;https://storage.googleapis.com/mediapipe-models/face_stylizer/blaze_face_stylizer/float32/latest/face_stylizer_oil_painting.task&#39;
   dest project.ext.ASSET_DIR + &#39;/face_stylizer_oil_painting.task&#39;
   overwrite false
}

// ë¹Œë“œ ì „ì— ëª¨ë¸ ë‹¤ìš´ë¡œë“œ 
preBuild.dependsOn downloadColorInkTask, downloadColorSketchTask, downloadOilPainting
</code></pre>
<p><code>app/build.gradle</code> íŒŒì¼ì—ì„œ <code>asset</code> ë””ë ‰í† ë¦¬ ê²½ë¡œë¥¼ ì„¤ì •í•˜ê³  ëª¨ë¸ ë‹¤ìš´ë¡œë“œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.</p>
<h3 is-upgraded><strong>app/build.gradle íŒŒì¼ ìˆ˜ì •</strong></h3>
<pre><code>plugins {
   // ëª¨ë¸ ë‹¤ìš´ë¡œë“œë¥¼ ìœ„í•´ ì¶”ê°€
   id(&#34;de.undercouch.download&#34;)
}


// import DownloadModels task
extra[&#34;ASSET_DIR&#34;] = &#34;${projectDir}/src/main/assets&#34;
extra[&#34;TEST_ASSETS_DIR&#34;] = &#34;${projectDir}/src/androidTest/assets&#34;

// Download default models; if you wish to use your own models then
// place them in the &#34;assets&#34; directory and comment out this line.
apply(from = &#34;download_models.gradle&#34;)


// ê¸°ì¡´ì— ì¶”ê°€í•œ ë¶€ë¶„
dependencies {
    implementation &#39;com.google.mediapipe:tasks-vision:0.10.14&#39;
}</code></pre>
<h3 is-upgraded><strong>ìµœìƒìœ„ build.gradle</strong></h3>
<pre><code>buildscript {
   dependencies {
       classpath(&#34;de.undercouch:gradle-download-task:5.6.0&#34;)
   }
}</code></pre>
<p>ì—¬ê¸°ê¹Œì§€ ì¶”ê°€í•˜ê³  ì•±ì„ ì‹¤í–‰í•´ì£¼ë©´, ì•±ì´ ë¹Œë“œí•˜ë©´ì„œ ìë™ìœ¼ë¡œ <code>main</code> ë°‘ì— <code>asset</code> í´ë”ë¥¼ ë§Œë“¤ê³  <code>download_models.gradle</code> ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì„ ì–¸í•´ì¤€ ê¸°ì¡´ <code>task</code> ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ìŠµë‹ˆë‹¤. </p>
<h3 is-upgraded><strong>assets ë””ë ‰í† ë¦¬ êµ¬ì¡°</strong></h3>
<pre><code>app/
 â””â”€ src/
     â””â”€ main/
         â””â”€ assets/
             â””â”€ face_stylizer.task</code></pre>
<p class="image-container"><img style="width: 355.50px" src="img/3227e4f23a1538b7.png"></p>
<h2 is-upgraded>5.3 <strong>FaceStylizationHelper</strong></h2>
<p><code>FaceStylizationHelper</code> í´ë˜ìŠ¤ëŠ” <strong>MediaPipe Face Stylizer</strong> ëª¨ë¸ì„ Android ì•±ì— ì‰½ê²Œ í†µí•©í•˜ê¸° ìœ„í•´ ì„¤ê³„ëœ <strong>ë„ìš°ë¯¸(Helper)</strong> í´ë˜ìŠ¤ì…ë‹ˆë‹¤.</p>
<p>ì´ í´ë˜ìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤:</p>
<ul>
<li>ì„ íƒí•œ ìŠ¤íƒ€ì¼ ëª¨ë¸ë¡œ <strong>FaceStylizer ì´ˆê¸°í™”</strong></li>
<li>ì…ë ¥ëœ <strong>Bitmap ì´ë¯¸ì§€ë¥¼ ìŠ¤íƒ€ì¼ ë³€í™˜</strong></li>
<li><strong>ì²˜ë¦¬ ì‹œê°„(inference time)</strong> ì„ ì¸¡ì •í•˜ì—¬ ì„±ëŠ¥ ë¶„ì„ ì§€ì›</li>
<li>ë³€í™˜ ì‹¤íŒ¨ ì‹œ <strong>ì˜¤ë¥˜ ì½œë°±</strong> ì œê³µ</li>
<li>ë¦¬ì†ŒìŠ¤ ê´€ë¦¬(ì´ˆê¸°í™” ë° í•´ì œ)<br></li>
</ul>
<p>FaceStylizationHelperë¥¼ ì‚¬ìš©í•˜ë©´ ë³µì¡í•œ ì„¤ì • ê³¼ì •ì„ ì§ì ‘ ê´€ë¦¬í•˜ì§€ ì•Šê³ , ê°„ë‹¨í•œ API í˜¸ì¶œë§Œìœ¼ë¡œ ìŠ¤íƒ€ì¼ ë³€í™˜ ê¸°ëŠ¥ì„ ì†ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ê³µì‹ ì˜ˆì œì— ìˆëŠ” í´ë˜ìŠ¤ë¥¼ ê·¸ëŒ€ë¡œ í™œìš©í•©ë‹ˆë‹¤. </p>
<h3 is-upgraded><strong>FaceStylizationHelper.kt</strong></h3>
<pre><code>import android.content.Context
import android.graphics.Bitmap
import android.util.Log
import com.google.mediapipe.framework.image.BitmapImageBuilder
import com.google.mediapipe.tasks.core.BaseOptions
import com.google.mediapipe.tasks.vision.facestylizer.FaceStylizer
import com.google.mediapipe.tasks.vision.facestylizer.FaceStylizer.FaceStylizerOptions
import com.google.mediapipe.tasks.vision.facestylizer.FaceStylizerResult

class FaceStylizationHelper(
   private val modelPosition: Int,
   private val context: Context,
   var faceStylizerListener: FaceStylizerListener? = null
) {

   private var faceStylizer: FaceStylizer? = null

   init {
       setupFaceStylizer()
   }

   /**
    * FaceStylizerë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.
    * ì„ íƒëœ modelPositionì— ë”°ë¼ ë‹¤ë¥¸ ëª¨ë¸ íŒŒì¼ì„ ë¡œë“œí•©ë‹ˆë‹¤.
    */
   private fun setupFaceStylizer() {
       val baseOptionsBuilder = BaseOptions.builder()
       // Sets the model selection.
       baseOptionsBuilder.setModelAssetPath(
           when (modelPosition) {
               0 -&gt; MODEL_PATH_COLOR_SKETCH
               1 -&gt; MODEL_PATH_COLOR_INK
               2 -&gt; MODEL_PATH_OIL_PAINTING
               else -&gt; throw Throwable(&#34;Invalid model type position&#34;)
           }
       )

       try {
           // ì˜µì…˜ ë¹Œë“œ ë° FaceStylizer ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
           val baseOptions = baseOptionsBuilder.build()
           val optionsBuilder = FaceStylizerOptions.builder()
               .setBaseOptions(baseOptions)

           val options = optionsBuilder.build()
           faceStylizer = FaceStylizer.createFromOptions(context, options)
       } catch (e: IllegalStateException) {
           // ì¼ë°˜ì ì¸ ì´ˆê¸°í™” ì˜¤ë¥˜ ì²˜ë¦¬
           faceStylizerListener?.onError(
               &#34;Face stylizer failed to initialize. See error logs for &#34; +
                       &#34;details&#34;
           )
           Log.e(
               TAG,
               &#34;Face stylizer failed to load model with error: &#34; + e.message
           )
       } catch (e: RuntimeException) {
           // GPU ë¯¸ì§€ì› ê¸°ê¸°ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì˜¤ë¥˜ ì²˜ë¦¬
           // This occurs if the model being used does not support GPU
           faceStylizerListener?.onError(
               &#34;Face stylizer failed to initialize. See error logs for &#34; +
                       &#34;details&#34;, GPU_ERROR
           )
           Log.e(
               TAG,
               &#34;Face stylizer failed to load model with error: &#34; + e.message
           )
       }
   }

   /**
    * ì£¼ì–´ì§„ Bitmapì„ ìŠ¤íƒ€ì¼ ë³€í™˜í•˜ì—¬ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
    * - ë³€í™˜ ì‹œê°„(inference time)ì„ í•¨ê»˜ ì¸¡ì •í•©ë‹ˆë‹¤.
    */
   fun stylize(bitmap: Bitmap): ResultBundle {
       val mpImage = BitmapImageBuilder(bitmap).build()
       var timestampMs = System.currentTimeMillis()
       val result = faceStylizer?.stylize(mpImage)
       timestampMs = System.currentTimeMillis() - timestampMs

       return ResultBundle(result, timestampMs)
   }

   /**
    * ìŠ¤íƒ€ì¼ë§ ê²°ê³¼ë¥¼ Bitmapìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
    *
    * @param result ìŠ¤íƒ€ì¼ë§ëœ ì–¼êµ´ ì •ë³´ì™€ ì¶”ë¡  ì‹œê°„ì„ í¬í•¨í•œ ResultBundle
    * @return ìŠ¤íƒ€ì¼ë§ëœ ì–¼êµ´ ì´ë¯¸ì§€ì˜ Bitmap, ë˜ëŠ” ìŠ¤íƒ€ì¼ë§ ê²°ê³¼ê°€ ì—†ëŠ” ê²½ìš° null
    */
    @OptIn(ExperimentalStdlibApi::class)
    fun convertStylizedFaceToBitmap(result: ResultBundle): Bitmap? {
       // ê²°ê³¼ê°€ ì—†ê±°ë‚˜ ìŠ¤íƒ€ì¼ë§ëœ ì´ë¯¸ì§€ê°€ ì—†ëŠ” ê²½ìš° null ë°˜í™˜
       if (result.stylizedFace == null ||     result.stylizedFace.stylizedImage().getOrNull() == null) {
           return null
       }

       // ìŠ¤íƒ€ì¼ë§ëœ ì–¼êµ´ ì´ë¯¸ì§€ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
       val image = result.stylizedFace
       // ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ByteBufferë¡œ ì¶”ì¶œ
       val byteBuffer =     ByteBufferExtractor.extract(image.stylizedImage().get())

       // ì´ë¯¸ì§€ í¬ê¸° ì •ë³´ ê°€ì ¸ì˜¤ê¸°
       val width = image.stylizedImage().get().width
       val height = image.stylizedImage().get().height

       // ì¶”ì¶œí•œ ì •ë³´ë¡œ ìƒˆ Bitmap ìƒì„±
       val bitmap = createBitmap(width, height)
       // ByteBufferì˜ í”½ì…€ ë°ì´í„°ë¥¼ Bitmapì— ë³µì‚¬
       bitmap.copyPixelsFromBuffer(byteBuffer)
       return bitmap
    }


   /**
    * ì‚¬ìš©ì´ ëë‚œ í›„ FaceStylizer ë¦¬ì†ŒìŠ¤ë¥¼ í•´ì œí•©ë‹ˆë‹¤.
    */
   fun close() {
       faceStylizer?.close()
   }

   /**
    * ìŠ¤íƒ€ì¼ë§ ê²°ê³¼ì™€ ì²˜ë¦¬ ì‹œê°„ì„ ë¬¶ì–´ ë°˜í™˜í•˜ëŠ” ë°ì´í„° í´ë˜ìŠ¤ì…ë‹ˆë‹¤.
    */
   data class ResultBundle(
       val stylizedFace: FaceStylizerResult?, // ìŠ¤íƒ€ì¼ë§ëœ ê²°ê³¼ (FaceStylizerResult)
       val inferenceTime: Long,  // ì²˜ë¦¬ ì†Œìš” ì‹œê°„ (ms ë‹¨ìœ„)
   )

   companion object {
       // ëª¨ë¸ íŒŒì¼ ê²½ë¡œ ìƒìˆ˜
       const val MODEL_PATH_OIL_PAINTING = &#34;face_stylizer_oil_painting.task&#34;
       const val MODEL_PATH_COLOR_INK = &#34;face_stylizer_color_ink.task&#34;
       const val MODEL_PATH_COLOR_SKETCH = &#34;face_stylizer_color_sketch.task&#34;
       const val OTHER_ERROR = 0
       const val GPU_ERROR = 1
       private const val TAG = &#34;FaceStylizationHelper&#34;
   }


   /**
    * FaceStylizer ì˜¤ë¥˜ ë°œìƒ ì‹œ í˜¸ì¶œë˜ëŠ” ë¦¬ìŠ¤ë„ˆ ì¸í„°í˜ì´ìŠ¤
    */
   interface FaceStylizerListener {
       fun onError(error: String, errorCode: Int = OTHER_ERROR)
   }
}
</code></pre>
<h2 is-upgraded><strong>5.4 Helper ì´ˆê¸°í™”í•˜ê¸° </strong></h2>
<p>FaceStylizerHelper ë¥¼ MainScreen ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ ìƒì„±í•´ì„œ ë„˜ê²¨ì¤ë‹ˆë‹¤.</p>
<h3 is-upgraded><strong>MainActivity.kt ìˆ˜ì •</strong></h3>
<pre><code>class MainActivity : ComponentActivity() {

    private lateinit var faceStylizationHelper: FaceStylizationHelper

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        // TODO
        // Activity ë ˆë²¨ì—ì„œ Helper ìƒì„±
        faceStylizationHelper = FaceStylizationHelper(
            modelPosition = 0, // ê¸°ë³¸ ëª¨ë¸ í¬ì§€ì…˜ ì„¤ì • (ì˜ˆ: Color Sketch)
            context = this,
            faceStylizerListener = object : FaceStylizationHelper.FaceStylizerListener {
                override fun onError(error: String, errorCode: Int) {
                    Log.e(&#34;MainActivity&#34;, &#34;FaceStylizer Error: $error (code: $errorCode)&#34;)
                    // í•„ìš”í•˜ë©´ Toast ë„ìš°ê±°ë‚˜ UI ì—…ë°ì´íŠ¸ ê°€ëŠ¥
                }
            }
        )

        enableEdgeToEdge()

        setContent {
            FaceStylizerTestTheme {
                Scaffold(modifier = Modifier.fillMaxSize()) { innerPadding -&gt;
                    // TODO
                    // MainScreenì— helperë¥¼ ë„˜ê¸´ë‹¤!
                    MainScreen(
                        modifier = Modifier.padding(innerPadding),
                        helper = faceStylizationHelper
                    )
                }
            }
        }
    }

    override fun onDestroy() {
        super.onDestroy()
        // Activity ì¢…ë£Œ ì‹œ ë¦¬ì†ŒìŠ¤ í•´ì œ
        faceStylizationHelper.close()
    }
}</code></pre>
<h2 is-upgraded>5.4 ì´ë¯¸ì§€ì— ìŠ¤íƒ€ì¼ ì ìš©í•˜ê¸°</h2>
<p>ì‚¬ìš©ìê°€ ê°¤ëŸ¬ë¦¬ì—ì„œ ì´ë¯¸ì§€ë¥¼ ì„ íƒ í•´ì„œ &#34;ìŠ¤íƒ€ì¼ ì ìš©í•˜ê¸°&#34;ë¥¼ í´ë¦­í•˜ë©´, </p>
<p>í•´ë‹¹ ì´ë¯¸ì§€ì˜ Urië¥¼ ê°€ì ¸ì™€ Bitmapìœ¼ë¡œ ë³€í™˜í•œ í›„ </p>
<pre><code>val bitmap = loadBitmapFromUri(context, uri)

/**
* Helper í•¨ìˆ˜: Urië¥¼ Bitmapìœ¼ë¡œ ë³€í™˜
*/
fun loadBitmapFromUri(context: Context, uri: Uri): Bitmap? {
   return try {
       context.contentResolver.openInputStream(uri)?.use {
           BitmapFactory.decodeStream(it)
       }
   } catch (e: Exception) {
       Log.e(&#34;MainScreen&#34;, &#34;Failed to load Bitmap from Uri&#34;, e)
       null
   }
}</code></pre>
<p>Face Stylizer helper ì— ì „ë‹¬í•˜ëŠ” ì½”ë“œë¥¼ ìƒì„±í•´ì¤ë‹ˆë‹¤.</p>
<p>stylized ëœ <code>result</code> ëŠ” <code>convertStylizedFaceToBitmap(result)</code> ì„ í†µí•´ ìŠ¤íƒ€ì¼ë§ ëœ ê²°ê³¼ ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤.</p>
<pre><code> bitmap?.let {
    val result = helper.stylize(it)
    onStylized(helper.convertStylizedFaceToBitmap(result))
 }</code></pre>
<p>ìŠ¤íƒ€ì¼ ì ìš©í•˜ê¸° ë²„íŠ¼ ì „ì²´ ì½”ë“œ </p>
<h3 is-upgraded><strong>StyleizeButton.kt</strong></h3>
<pre><code>@Composable
fun StylizeButton(
   uri: Uri,
   context: Context,
   helper: FaceStylizationHelper,
   onStylized: (Bitmap?) -&gt; Unit
) {
   Box(
       modifier = Modifier.fillMaxWidth(),
       contentAlignment = Alignment.TopCenter
   ) {
       Button(onClick = {
           val bitmap = loadBitmapFromUri(context, uri)
           bitmap?.let {
               val result = helper.stylize(it)
               onStylized(helper.convertStylizedFaceToBitmap(result))
           }
       }) {
           Text(text = &#34;ìŠ¤íƒ€ì¼ ì ìš©í•˜ê¸°&#34;)
       }
   }
}

/**
* Helper í•¨ìˆ˜: Urië¥¼ Bitmapìœ¼ë¡œ ë³€í™˜
*/
fun loadBitmapFromUri(context: Context, uri: Uri): Bitmap? {
   return try {
       context.contentResolver.openInputStream(uri)?.use {
           BitmapFactory.decodeStream(it)
       }
   } catch (e: Exception) {
       Log.e(&#34;MainScreen&#34;, &#34;Failed to load Bitmap from Uri&#34;, e)
       null
   }
}</code></pre>
<h2 is-upgraded><strong>5.5 Compose í™”ë©´ì— ë³€í™˜ ê²°ê³¼ í‘œì‹œ</strong></h2>
<p>Composeì—ì„œëŠ” Image ì»´í¬ì €ë¸”ì„ ì‚¬ìš©í•´ ë³€í™˜ëœ Bitmapì„ ë°”ë¡œ í™”ë©´ì— í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<pre><code>@Composable
private fun StylizedImage(bitmap: Bitmap) {
   Image(
       bitmap = bitmap.asImageBitmap(),
       contentDescription = &#34;Stylized Image&#34;,
       modifier = Modifier
           .fillMaxWidth(0.8f) 
           .aspectRatio(1f)
   )
}</code></pre>
<p>asImageBitmap() í™•ì¥ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ Bitmapì„ Compose ì´ë¯¸ì§€ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.</p>
<h2 is-upgraded><strong>5.6 MainScreen ì „ì²´ ì½”ë“œ </strong></h2>
<p>í™”ë©´ì— ë³´ê¸°ì¢‹ê²Œ ë§ì¶”ê¸° ìœ„í•´ ì¼ë¶€ ì»´í¬ë„ŒíŠ¸ modifier ê°’ì„ ì¡°ì •í•œ ì½”ë“œì…ë‹ˆë‹¤. </p>
<h3 is-upgraded><strong>MainScreen.kt</strong></h3>
<pre><code>@Composable
fun MainScreen(
   modifier: Modifier = Modifier,
   helper: FaceStylizationHelper
) {
   var selectedImageUri by remember { mutableStateOf&lt;Uri?&gt;(null) }
   var stylizedBitmap by remember { mutableStateOf&lt;Bitmap?&gt;(null) }

   val context = LocalContext.current

   Column(
       modifier = modifier.fillMaxSize(),
       verticalArrangement = Arrangement.spacedBy(16.dp),
       horizontalAlignment = Alignment.CenterHorizontally
   ) {
       // ê°¤ëŸ¬ë¦¬ ì—´ê¸° ë²„íŠ¼
       GalleryPicker(
           onImageSelected = { uri -&gt;
               selectedImageUri = uri
           }
       )

       // ì„ íƒí•œ ì´ë¯¸ì§€ í‘œì‹œ
       selectedImageUri?.let { uri -&gt;
           SelectedImage(uri)
          
           StylizeButton(
               uri = uri,
               context = context,
               helper = helper,
               onStylized = { stylizedBitmap = it }
           )

           // ìŠ¤íƒ€ì¼ ì ìš©ëœ ì´ë¯¸ì§€ í‘œì‹œ
           stylizedBitmap?.let { styledBitmap -&gt;
               StylizedImage(styledBitmap)
           }
       }
   }
}

@Composable
private fun SelectedImage(uri: Uri) {
   AsyncImage(
       model = uri,
       contentDescription = &#34;Selected Image&#34;,
       modifier = Modifier
           .fillMaxWidth(0.8f) 
           .aspectRatio(1f)
   )
}

@Composable
private fun StylizedImage(bitmap: Bitmap) {
   Image(
       bitmap = bitmap.asImageBitmap(),
       contentDescription = &#34;Stylized Image&#34;,
       modifier = Modifier
           .fillMaxWidth(0.8f) 
           .aspectRatio(1f)
   )
}
</code></pre>
<h2 is-upgraded><strong>5.7 ê²°ê³¼ í™•ì¸</strong></h2>
<ul>
<li>í™”ë©´ ìƒë‹¨ì—ëŠ” <strong>ì„ íƒí•œ ì›ë³¸ ì´ë¯¸ì§€</strong>ê°€ í‘œì‹œë©ë‹ˆë‹¤.</li>
<li>í™”ë©´ í•˜ë‹¨ì—ëŠ” <strong>ìŠ¤íƒ€ì¼ ë³€í™˜ëœ ê²°ê³¼ ì´ë¯¸ì§€</strong>ê°€ í‘œì‹œë©ë‹ˆë‹¤.</li>
<li>ì›ë³¸ê³¼ ê²°ê³¼ë¥¼ ì§ì ‘ ë¹„êµí•˜ë©° ìŠ¤íƒ€ì¼ íš¨ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
</ul>
<p class="image-container"><img style="width: 298.04px" src="img/302a35a205391914.png"></p>
<h2 is-upgraded><strong>5.8 [ì‹¬í™”] ë‹¤ì–‘í•œ ìŠ¤íƒ€ì¼ ëª¨ë¸ë¡œ ì „í™˜í•˜ê¸°</strong></h2>
<p>MainActivityì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ <strong>Color Sketch</strong> ìŠ¤íƒ€ì¼ ëª¨ë¸ì„ ì‚¬ìš©í•˜ë„ë¡ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤. í˜„ì¬ëŠ” modelPosition = 0ìœ¼ë¡œ ê³ ì •ë˜ì–´ ìˆìœ¼ë©°, ì•±ì„ ì‹¤í–‰í•˜ë©´ í•­ìƒ &#34;Color Sketch&#34; ìŠ¤íƒ€ì¼ë¡œ ë³€í™˜ë©ë‹ˆë‹¤.</p>
<h3 is-upgraded><strong>MainActivity.kt</strong></h3>
<pre><code>// Activity ë ˆë²¨ì—ì„œ Helper ìƒì„±
faceStylizationHelper = FaceStylizationHelper(
   modelPosition = 0, // ê¸°ë³¸ ëª¨ë¸ í¬ì§€ì…˜ ì„¤ì • (ì˜ˆ: Color Sketch)
   context = this,
   faceStylizerListener = object : FaceStylizationHelper.FaceStylizerListener {
       override fun onError(error: String, errorCode: Int) {
           Log.e(&#34;MainActivity&#34;, &#34;FaceStylizer Error: $error (code: $errorCode)&#34;)
           // í•„ìš”í•˜ë©´ Toast ë„ìš°ê±°ë‚˜ UI ì—…ë°ì´íŠ¸ ê°€ëŠ¥
       }
   }
)</code></pre>
<h2 is-upgraded><strong>âœ¨ ì‹¬í™” ë„ì „: ë‹¤ì–‘í•œ ìŠ¤íƒ€ì¼ ì „í™˜ ê¸°ëŠ¥ ì¶”ê°€í•˜ê¸°</strong></h2>
<p><strong>ë‹¤ì–‘í•œ ìŠ¤íƒ€ì¼ì„ ì„ íƒí•´ ë°”ê¾¸ëŠ” ê¸°ëŠ¥</strong>ì€ Mediapipe ìì²´ë¥¼ ì´í•´í•˜ëŠ” ê²ƒë³´ë‹¤, ì˜¤íˆë ¤ <strong>Compose ìƒíƒœ ê´€ë¦¬, ë¦¬ì»´í¬ì§€ì…˜ íë¦„</strong>ì„ í™œìš©í•˜ëŠ” ë¶€ë¶„ì´ ë” í° ë¹„ì¤‘ì„ ì°¨ì§€í•©ë‹ˆë‹¤. ë”°ë¼ì„œ, ì´ ë¶€ë¶„ì€ &#34;ì‹¬í™”&#34; ì£¼ì œë¡œ ë‚¨ê²¨ë‘ì—ˆìŠµë‹ˆë‹¤.</p>
<p>ì•„ë˜ ëª©í‘œë¥¼ ìŠ¤ìŠ¤ë¡œ êµ¬í˜„í•´ë³´ì„¸ìš”!</p>
<table>
<tr><td colspan="1" rowspan="1"><p><strong>ëª©í‘œ</strong></p>
</td><td colspan="1" rowspan="1"><p><strong>ì„¤ëª…</strong></p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>1</p>
</td><td colspan="1" rowspan="1"><p>ì—¬ëŸ¬ ìŠ¤íƒ€ì¼ ëª¨ë¸ì„ ì„ íƒí•  ìˆ˜ ìˆë„ë¡ UIë¥¼ ì¶”ê°€í•˜ì„¸ìš” (ì˜ˆ: ë“œë¡­ë‹¤ìš´, ë²„íŠ¼ ëª©ë¡ ë“±)</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>2</p>
</td><td colspan="1" rowspan="1"><p>ì‚¬ìš©ìê°€ ëª¨ë¸ì„ ì„ íƒí•˜ë©´, í•´ë‹¹ ìŠ¤íƒ€ì¼ ëª¨ë¸ë¡œ FaceStylizationHelperë¥¼ ë‹¤ì‹œ ì´ˆê¸°í™”í•˜ì„¸ìš”</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>3</p>
</td><td colspan="1" rowspan="1"><p>ìƒˆë¡œìš´ ìŠ¤íƒ€ì¼ ëª¨ë¸ì„ ì ìš©í•œ í›„, ê°¤ëŸ¬ë¦¬ì—ì„œ ì„ íƒí•œ ì´ë¯¸ì§€ë¥¼ ìŠ¤íƒ€ì¼ë§í•´ë³´ì„¸ìš”</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>4</p>
</td><td colspan="1" rowspan="1"><p>í•„ìš”í•˜ë‹¤ë©´ ëª¨ë¸ ë³€ê²½ ì‹œ, í˜„ì¬ ì„ íƒëœ ì´ë¯¸ì§€ë¥¼ ìë™ìœ¼ë¡œ ë‹¤ì‹œ ìŠ¤íƒ€ì¼ë§í•˜ëŠ” ê¸°ëŠ¥ë„ ë„ì „í•´ë³´ì„¸ìš”!</p>
</td></tr>
</table>


      </google-codelab-step>
    
      <google-codelab-step label="ì‚¬ìš©ì ì •ì˜ ìŠ¤íƒ€ì¼ í•™ìŠµ" duration="20">
        <h2 is-upgraded><strong>6.1 ê°œìš”</strong></h2>
<p>ì œê³µëœ ëª¨ë¸ì—ì„œ ì§€ì›í•˜ì§€ ì•ŠëŠ” ìƒˆë¡œìš´ ìŠ¤íƒ€ì¼ë¡œ ì–¼êµ´ì„ ë³€í™˜í•´ì•¼ í•˜ëŠ” ê²½ìš°, ì‚¬ì „ í•™ìŠµëœ ëª¨ë¸ì„ ì‚¬ìš©ì ë°ì´í„°ì™€ MediaPipe <a href="https://developers.google.com/mediapipe/solutions/model_maker" target="_blank">Model Makerë¥¼</a> ì‚¬ìš©í•˜ì—¬ ë§ì¶¤ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ . ì´ ëª¨ë¸ ìˆ˜ì • ë„êµ¬ëŠ” ì‚¬ìš©ìê°€ ì œê³µí•œ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë¸ì˜ ì¼ë¶€ë¥¼ ë¯¸ì„¸ ì¡°ì •í•©ë‹ˆë‹¤. ì´ ë°©ë²•ì€ ìƒˆ ëª¨ë¸ì„ ì²˜ìŒë¶€í„° í•™ìŠµí•˜ëŠ” ê²ƒë³´ë‹¤ ë¹ ë¥´ë©°, íŠ¹ì • ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë§ê²Œ ëª¨ë¸ì„ ì¡°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” Model Makerë¥¼ ì‚¬ìš©í•˜ì—¬ ë¯¸ë¦¬ ë¹Œë“œëœ ëª¨ë¸ì„ ì–¼êµ´ ìŠ¤íƒ€ì¼ ì§€ì •ì„ ìœ„í•´ ì‚¬ìš©ì ë°ì´í„°ë¡œ ì¬í•™ìŠµí•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ ë°ì´í„°ëŠ” MediaPipe <a href="https://developers.google.com/mediapipe/solutions/vision/face_stylizer" target="_blank">Face Stylizer</a> ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ .</p>
<p>MediaPipe Model Maker íŒ¨í‚¤ì§€ëŠ” ë””ë°”ì´ìŠ¤ ë‚´ ë¨¸ì‹  ëŸ¬ë‹(ML) ëª¨ë¸ì„ ì‚¬ìš©ì ì •ì˜í•˜ê¸° ìœ„í•œ low-code ì†”ë£¨ì…˜ì…ë‹ˆë‹¤.</p>
<p>ì´ ë…¸íŠ¸ë¶ì€ ìŠ¤íƒ€ì¼í™”ëœ ì–¼êµ´ì˜ ìŠ¤íƒ€ì¼ì„ ì‹¤ì œ ì‚¬ëŒ ì–¼êµ´ë¡œ ì „í™˜í•˜ê¸° ìœ„í•´ ì–¼êµ´ ìŠ¤íƒ€ì¼ë¼ì´ì € ëª¨ë¸ì„ ì‚¬ìš©ì ì§€ì •í•˜ëŠ” ì²˜ìŒë¶€í„° ëê¹Œì§€ì˜ í”„ë¡œì„¸ìŠ¤ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.</p>
<p>ëª¨ë¸ í•™ìŠµì€ ì•„ë˜ì˜ Colab í™˜ê²½ì—ì„œ ì§„í–‰í•©ë‹ˆë‹¤. </p>
<p><a href="https://colab.research.google.com/github/googlesamples/mediapipe/blob/main/examples/customization/face_stylizer.ipynb" target="_blank"><paper-button class="colored" raised>Colab ë§í¬</paper-button></a></p>
<p><a href="https://ai.google.dev/edge/mediapipe/solutions/customization/face_stylizer" target="_blank"><paper-button class="colored" raised>ëª¨ë¸í•™ìŠµ ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ì´ë“œ</paper-button></a></p>
<h2 is-upgraded><strong>6.2 ì„¤ì¹˜ ëª…ë ¹ì–´ </strong></h2>
<pre><code>pip install mediapipe-model-maker</code></pre>
<p>ë‹¤ìŒ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í•„ìš”í•œ Python í´ë˜ìŠ¤ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.</p>
<pre><code>from google.colab import files
import os
import tensorflow as tf
assert tf.__version__.startswith(&#39;2&#39;)

from mediapipe_model_maker import face_stylizer
from mediapipe_model_maker import image_utils

import matplotlib.pyplot as plt</code></pre>
<h2 is-upgraded><strong>6.3 ë°ì´í„° ì¤€ë¹„ ë° ê²€í†  </strong></h2>
<p>ì–¼êµ´ ìŠ¤íƒ€ì¼ë¼ì´ì € ëª¨ë¸ì„ ì¬í•™ìŠµí•˜ë ¤ë©´ ì‚¬ìš©ìê°€ ìŠ¤íƒ€ì¼í™”ëœ ì–¼êµ´ ì´ë¯¸ì§€ í•˜ë‚˜ë¥¼ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤. ìŠ¤íƒ€ì¼í™”ëœ ì–¼êµ´ì€ ì •ë©´ì„ í–¥í•˜ê³  ì¢Œìš° ëˆˆê³¼ ì…ì´ ëª¨ë‘ ë³´ì´ëŠ” ìƒíƒœì—¬ì•¼ í•©ë‹ˆë‹¤. ì–¼êµ´ì€ ìš”, í”¼ì¹˜, ë¡¤ ì¶•ì„ ê¸°ì¤€ìœ¼ë¡œ 30ë„ ë¯¸ë§Œì˜ ë¯¸ì„¸í•œ íšŒì „ë§Œ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.</p>
<p>ë‹¤ìŒ ì˜ˆì—ì„œëŠ” ì–‘ì‹í™”ëœ ì–¼êµ´ ì´ë¯¸ì§€ë¥¼ ì œê³µí•˜ê³  ì´ë¯¸ì§€ë¥¼ ì‹œê°í™”í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.</p>
<pre><code>style_image_path = &#39;color_sketch.jpg&#39;
!wget -q -O {style_image_path} https://storage.googleapis.com/mediapipe-assets/face_stylizer_style_color_sketch.jpg</code></pre>
<pre><code># @title Visualize the training image
import cv2
from google.colab.patches import cv2_imshow

style_image_tensor = image_utils.load_image(style_image_path)
style_cv_image = cv2.cvtColor(style_image_tensor.numpy(), cv2.COLOR_RGB2BGR)
cv2_imshow(style_cv_image)</code></pre>
<h2 is-upgraded>6.4 ë°ì´í„° ì„¸íŠ¸ ìƒì„±</h2>
<p>ì–¼êµ´ ìŠ¤íƒ€ì¼ë¼ì´ì € ëª¨ë¸ì„ í›ˆë ¨í•˜ê¸° ìœ„í•´ ë‹¨ì¼ í›ˆë ¨ ì´ë¯¸ì§€ë¥¼ ë˜í•‘í•˜ëŠ” ë°ì´í„° ì„¸íŠ¸ë¥¼ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.</p>
<p>ë°ì´í„° ì„¸íŠ¸ë¥¼ ìƒì„±í•˜ë ¤ë©´ Dataset.from_image ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ style_image_pathì— ìˆëŠ” ì´ë¯¸ì§€ë¥¼ ë¡œë“œí•©ë‹ˆë‹¤. ì–¼êµ´ ìŠ¤íƒ€ì¼ë¼ì´ì €ëŠ” ë‹¨ì¼ ìŠ¤íƒ€ì¼ ì´ë¯¸ì§€ë§Œ ì§€ì›í•©ë‹ˆë‹¤.</p>
<pre><code>data = face_stylizer.Dataset.from_image(filename=style_image_path)</code></pre>
<h2 is-upgraded><strong>6.5 ëª¨ë¸ ì¬í•™ìŠµ</strong></h2>
<p>ë°ì´í„° ì¤€ë¹„ê°€ ì™„ë£Œë˜ë©´ ì–¼êµ´ ìŠ¤íƒ€ì¼ëŸ¬ìŠ¤ ëª¨ë¸ì„ ì¬í•™ìŠµí•˜ì—¬ ìƒˆë¡œìš´ ìŠ¤íƒ€ì¼ì— ì ì‘ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ëª¨ë¸ ìˆ˜ì •ì„ <a href="https://www.wikipedia.org/wiki/Transfer_learning" target="_blank">ì „ì´ í•™ìŠµ</a> ì´ë¼ê³  í•©ë‹ˆë‹¤ . ì•„ë˜ ì§€ì¹¨ì—ì„œëŠ” ì´ì „ ì„¹ì…˜ì—ì„œ ì¤€ë¹„í•œ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ì–¼êµ´ ìŠ¤íƒ€ì¼ëŸ¬ìŠ¤ ëª¨ë¸ì„ ì¬í•™ìŠµí•˜ì—¬ ì›ë³¸ ì‚¬ëŒ ì–¼êµ´ì— ë§Œí™” ìŠ¤íƒ€ì¼ì„ ì ìš©í•©ë‹ˆë‹¤.</p>
<aside class="warning"><p><strong>ì°¸ê³ : </strong>ì´ ìœ í˜•ì˜ ëª¨ë¸ì˜ ê²½ìš°, ì¬í•™ìŠµ ê³¼ì •ì—ì„œ ì´ì „ì— ì ìš© ê°€ëŠ¥í–ˆë˜ ìŠ¤íƒ€ì¼ì´ ëª¨ë‘ ì‚­ì œë©ë‹ˆë‹¤. ì¬í•™ìŠµì´ ì™„ë£Œë˜ë©´ ìƒˆ ëª¨ë¸ì€ ìƒˆë¡œ ìŠ¤íƒ€ì¼ì´ ì ìš©ëœ ì´ë¯¸ì§€ì— ì •ì˜ëœ ìƒˆ ìŠ¤íƒ€ì¼ <em>ë§Œ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</em></p>
</aside>
<h3 is-upgraded><strong>ì¬êµìœ¡ ì˜µì…˜ ì„¤ì •</strong></h3>
<p>í›ˆë ¨ ë°ì´í„° ì„¸íŠ¸ ì™¸ì— ì¬í›ˆë ¨ì„ ì‹¤í–‰í•˜ë ¤ë©´ ëª‡ ê°€ì§€ í•„ìˆ˜ ì„¤ì •ì´ ìˆìŠµë‹ˆë‹¤.</p>
<ol type="1" start="1">
<li>ëª¨ë¸ ì•„í‚¤í…ì²˜: SupportedModelsí´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë¸ ì•„í‚¤í…ì²˜ë¥¼ ì§€ì •í•©ë‹ˆë‹¤. ì§€ì›ë˜ëŠ” ìœ ì¼í•œ ì•„í‚¤í…ì²˜ëŠ” face_stylizer.SupportedModels.BLAZE_FACE_STYLIZER_256 ì…ë‹ˆë‹¤.</li>
<li>ìŠ¤ì™‘ ë ˆì´ì–´: ì´ ë§¤ê°œë³€ìˆ˜ëŠ” í•™ìŠµëœ ìŠ¤íƒ€ì¼ê³¼ ì›ì‹œ ì–¼êµ´ ì´ë¯¸ì§€ ì‚¬ì´ì˜ ì ì¬ ì½”ë“œ ë ˆì´ì–´ë¥¼ í˜¼í•©í•˜ëŠ” ë°©ë²•ì„ ê²°ì •í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì ì¬ ì½”ë“œëŠ” [1, 12, 512] ëª¨ì–‘ì˜ í…ì„œë¡œ í‘œí˜„ë©ë‹ˆë‹¤. ì ì¬ ì½”ë“œ í…ì„œì˜ ë‘ ë²ˆì§¸ ì°¨ì›ì„ ë ˆì´ì–´ë¼ê³  í•©ë‹ˆë‹¤. ì–¼êµ´ ìŠ¤íƒ€ì¼ë¼ì´ì €ëŠ” ìŠ¤ì™‘ ë ˆì´ì–´ì—ì„œ ë‘ ì ì¬ ì½”ë“œì˜ ê°€ì¤‘ í•©ì„ ìƒì„±í•˜ì—¬ í•™ìŠµëœ ìŠ¤íƒ€ì¼ê³¼ ì›ì‹œ ì–¼êµ´ ì´ë¯¸ì§€ë¥¼ í˜¼í•©í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ìŠ¤ì™‘ ë ˆì´ì–´ëŠ” [1, 12] ë‚´ì˜ ì •ìˆ˜ì…ë‹ˆë‹¤. ë ˆì´ì–´ê°€ ë§ì´ ì„¤ì •ë ìˆ˜ë¡ ì¶œë ¥ ì´ë¯¸ì§€ì— ë” ë§ì€ ìŠ¤íƒ€ì¼ì´ ì ìš©ë©ë‹ˆë‹¤. ìŠ¤íƒ€ì¼ ì˜ë¯¸ë¡ ê³¼ ë ˆì´ì–´ ì¸ë±ìŠ¤ ê°„ì— ëª…ì‹œì ì¸ ë§¤í•‘ì€ ì—†ì§€ë§Œ ì–•ì€ ë ˆì´ì–´(ì˜ˆ: 8, 9)ëŠ” ì–¼êµ´ì˜ ì „ì—­ì  íŠ¹ì§•ì„ ë‚˜íƒ€ë‚´ëŠ” ë°˜ë©´ ê¹Šì€ ë ˆì´ì–´(ì˜ˆ: 10, 11)ëŠ” ì–¼êµ´ì˜ ì„¸ë°€í•œ íŠ¹ì§•ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì¶œë ¥ ìŠ¤íƒ€ì¼í™”ëœ ì´ë¯¸ì§€ëŠ” ìŠ¤ì™‘ ë ˆì´ì–´ ì„¤ì •ì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ [8, 9, 10, 11]ë¡œ ì„¤ì •ë©ë‹ˆë‹¤. ì‚¬ìš©ìëŠ” ModelOptionsë¥¼ í†µí•´ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
<li>í•™ìŠµë¥  ë° ì—í¬í¬: HParams ê°ì²´ learning_rateì™€ epochë¥¼ ì‚¬ìš©í•˜ì—¬ ë‘ í•˜ì´í¼íŒŒë¼ë¯¸í„°ë¥¼ ì§€ì •í•©ë‹ˆë‹¤. learning_rateëŠ” ê¸°ë³¸ì ìœ¼ë¡œ 4e-4ë¡œ ì„¤ì •ë©ë‹ˆë‹¤. epochsëŠ” BlazeStyleGAN ëª¨ë¸ì„ ë¯¸ì„¸ ì¡°ì •í•˜ëŠ” ë° í•„ìš”í•œ ë°˜ë³µ íšŸìˆ˜ë¥¼ ì •ì˜í•˜ë©°, ê¸°ë³¸ì ìœ¼ë¡œ 100ìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤. í•™ìŠµë¥ ì´ ë‚®ì„ìˆ˜ë¡ ëª¨ë¸ì„ ìˆ˜ë ´í•˜ë„ë¡ ì¬í•™ìŠµí•˜ëŠ” ë° í•„ìš”í•œ ì—í¬í¬ íšŸìˆ˜ê°€ ëŠ˜ì–´ë‚©ë‹ˆë‹¤.</li>
<li>ë°°ì¹˜ í¬ê¸°: HParamsê°ì²´  batch_sizeë¥¼ ì‚¬ìš©í•˜ì—¬ ì§€ì •í•©ë‹ˆë‹¤. ë°°ì¹˜ í¬ê¸°ëŠ” ì¸ì½”ë”ê°€ ì…ë ¥ ì´ë¯¸ì§€ì—ì„œ ì¶”ì¶œí•œ ì ì¬ ì½”ë“œ ì£¼ë³€ì—ì„œ ìƒ˜í”Œë§í•˜ëŠ” ì ì¬ ì½”ë“œ ìƒ˜í”Œ ìˆ˜ë¥¼ ì •ì˜í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì ì¬ ì½”ë“œ ë°°ì¹˜ëŠ” ë””ì½”ë”ë¥¼ ë¯¸ì„¸ ì¡°ì •í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ë°°ì¹˜ í¬ê¸°ê°€ í´ìˆ˜ë¡ ì¼ë°˜ì ìœ¼ë¡œ ì„±ëŠ¥ì´ í–¥ìƒë©ë‹ˆë‹¤. ë˜í•œ í•˜ë“œì›¨ì–´ ë©”ëª¨ë¦¬ì— ì˜í•´ ì œí•œë©ë‹ˆë‹¤. A100 GPUì˜ ê²½ìš° ìµœëŒ€ ë°°ì¹˜ í¬ê¸°ëŠ” 8ì…ë‹ˆë‹¤. P100 ë° T4 GPUì˜ ê²½ìš° ìµœëŒ€ ë°°ì¹˜ í¬ê¸°ëŠ” 2ì…ë‹ˆë‹¤.</li>
</ol>
<pre><code>face_stylizer_options = face_stylizer.FaceStylizerOptions(
  model=face_stylizer.SupportedModels.BLAZE_FACE_STYLIZER_256,
  model_options=face_stylizer.ModelOptions(swap_layers=[10,11]),
  hparams=face_stylizer.HParams(
      learning_rate=8e-4, epochs=200, batch_size=2, export_dir=&#34;exported_model&#34;
  )
)</code></pre>
<h3 is-upgraded><strong>ì¬êµìœ¡ ì‹¤í–‰</strong></h3>
<p>í•™ìŠµ ë°ì´í„° ì„¸íŠ¸ì™€ ì¬í•™ìŠµ ì˜µì…˜ì´ ì¤€ë¹„ë˜ì—ˆìœ¼ë¯€ë¡œ ì¬í•™ìŠµ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹œì‘í•  ì¤€ë¹„ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ í”„ë¡œì„¸ìŠ¤ëŠ” GPUì—ì„œ ì‹¤í–‰ë˜ì–´ì•¼ í•˜ë©°, ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í“¨íŒ… ë¦¬ì†ŒìŠ¤ì— ë”°ë¼ ëª‡ ë¶„ì—ì„œ ëª‡ ì‹œê°„ê¹Œì§€ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. GPU ëŸ°íƒ€ì„ì´ í¬í•¨ëœ Google Colab í™˜ê²½ì„ ì‚¬ìš©í•  ê²½ìš° ì•„ë˜ ì˜ˆì‹œ ì¬í•™ìŠµì€ ì•½ 2ë¶„ ì •ë„ ì†Œìš”ë©ë‹ˆë‹¤.</p>
<p>ì¬êµìœ¡ ê³¼ì •ì„ ì‹œì‘í•˜ë ¤ë©´ create()ì´ì „ì— ì •ì˜í•œ ë°ì´í„° ì„¸íŠ¸ì™€ ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ìŒ ë°©ë²•ì„ ì‚¬ìš©í•˜ì„¸ìš”.</p>
<pre><code>face_stylizer_model = face_stylizer.FaceStylizer.create(
  train_data=data, options=face_stylizer_options
)</code></pre>
<h2 is-upgraded><strong>6.6 ì„±ê³¼í‰ê°€</strong></h2>
<p>ëª¨ë¸ì„ ì¬í•™ìŠµí•œ í›„, ì…ë ¥ ìŠ¤íƒ€ì¼ ì´ë¯¸ì§€ì˜ ì¬êµ¬ì„± ê²°ê³¼ì— ëŒ€í•œ ì£¼ê´€ì ì¸ í‰ê°€ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìŠ¤íƒ€ì¼ ì´ë¯¸ì§€ì˜ ì£¼ìš” ìŠ¤íƒ€ì¼ íŠ¹ì§•ê³¼ ì‚¬ëŒ ì–¼êµ´ì´ ì˜ ì¬êµ¬ì„±ë˜ë©´, ëª¨ë¸ì€ í•´ë‹¹ ìŠ¤íƒ€ì¼ì— ìˆ˜ë ´í•˜ëŠ” ê²ƒìœ¼ë¡œ ì •ì˜ë˜ë©° ë‹¤ë¥¸ ì›ë³¸ ì–¼êµ´ ì´ë¯¸ì§€ì—ë„ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìŠ¤íƒ€ì¼ ì´ë¯¸ì§€ë¥¼ ì¬êµ¬ì„±í•  ìˆ˜ ì—†ê±°ë‚˜ ì¬êµ¬ì„±ëœ ìŠ¤íƒ€ì¼ ì´ë¯¸ì§€ì—ì„œ ìƒë‹¹í•œ ì•„í‹°íŒ©íŠ¸ê°€ ê´€ì°°ë˜ë©´, ì…ë ¥ ìŠ¤íƒ€ì¼ì´ ì–¼êµ´ ìŠ¤íƒ€ì¼ë¼ì´ì € ëª¨ë¸ì— ì í•©í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì˜ˆì œ ëª¨ë¸ì„ í‰ê°€í•˜ë ¤ë©´ ì•„ë˜ì™€ ê°™ì´ ì…ë ¥ ìŠ¤íƒ€ì¼ ì´ë¯¸ì§€ì— ëŒ€í•´ ì‹¤í–‰í•˜ì„¸ìš”.</p>
<pre><code>print(&#39;Input style image&#39;)
resized_style_cv_image = cv2.resize(style_cv_image, (256, 256))
cv2_imshow(resized_style_cv_image)

eval_output = face_stylizer_model.stylize(data)
eval_output_data = eval_output.gen_tf_dataset()
iterator = iter(eval_output_data)

reconstruct_style_image = (tf.squeeze(iterator.get_next()).numpy())
test_output_image = cv2.cvtColor(output_image, cv2.COLOR_RGB2BGR)
print(&#39;\nReconstructed style image&#39;)
cv2_imshow(test_output_image)</code></pre>
<aside class="warning"><p><strong>ì£¼ì˜: </strong>ë¨¸ì‹  ëŸ¬ë‹ ëª¨ë¸ì˜ ê³µí†µì ì¸ ëª©í‘œëŠ” ëª¨ë¸ì˜ ë†’ì€ ì •í™•ë„ë¥¼ ë‹¬ì„±í•˜ëŠ” ê²ƒì´ì§€ë§Œ, ê³¼ì í•© ì§€ì ê¹Œì§€ í•™ìŠµì‹œí‚¤ì§€ ì•Šë„ë¡ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤ . <a href="https://en.wikipedia.org/wiki/Overfitting" target="_blank">ê³¼ì í•©</a> ì§€ì ê¹Œì§€ í•™ìŠµ ì‹œí‚¤ë©´ ëª¨ë¸ì´ í•™ìŠµ ë°ì´í„°ì—ì„œëŠ” ë§¤ìš° ì¢‹ì€ ì„±ëŠ¥ì„ ë³´ì´ì§€ë§Œ, ìƒˆë¡œìš´ ë°ì´í„°ì—ì„œëŠ” ì„±ëŠ¥ì´ ìƒë‹¹íˆ ì €í•˜ë©ë‹ˆë‹¤.</p>
</aside>
<h2 is-upgraded><strong>6.7 ëª¨ë¸ ë‚´ë³´ë‚´ê¸°</strong></h2>
<p>ëª¨ë¸ì„ ì¬í•™ìŠµí•œ í›„ì—ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ MediaPipeì™€ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ Tensorflow Lite ëª¨ë¸ í˜•ì‹ìœ¼ë¡œ ë‚´ë³´ë‚´ì•¼ í•©ë‹ˆë‹¤. ë‚´ë³´ë‚´ê¸° ê³¼ì •ì—ì„œ í•„ìš”í•œ ëª¨ë¸ ë©”íƒ€ë°ì´í„°ì™€ ë¶„ë¥˜ ë ˆì´ë¸” íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤.</p>
<p>ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì¬í•™ìŠµëœ ëª¨ë¸ì„ ë‚´ë³´ë‚´ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì„¸ìš”.</p>
<pre><code>face_stylizer_model.export_model()</code></pre>
<p>Google Colabì—ì„œ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ëª¨ë¸ì„ ë‚˜ì—´í•˜ê³  ê°œë°œ í™˜ê²½ì— ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”. ì´ face_stylizer.taskíŒŒì¼ì€ ì–¼êµ´ ìŠ¤íƒ€ì¼ë¼ì´ì € ì‘ì—… ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‹¤í–‰í•˜ëŠ” ë° í•„ìš”í•œ ì„¸ ê°œì˜ TFLite ëª¨ë¸ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>
<pre><code>!ls exported_model
files.download(&#39;exported_model/face_stylizer.task&#39;)</code></pre>
<h2 is-upgraded><strong>6.8 ì¬êµìœ¡ ë§¤ê°œë³€ìˆ˜</strong></h2>
<p>ì¬í•™ìŠµ í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰ ë°©ì‹ì„ ì¶”ê°€ë¡œ ì‚¬ìš©ì ì§€ì •í•˜ì—¬ í•™ìŠµ ì‹œê°„ì„ ì¡°ì •í•˜ê³  ì¬í•™ìŠµëœ ëª¨ë¸ì˜ ì„±ëŠ¥ì„ ì ì¬ì ìœ¼ë¡œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. <em>ì´ëŸ¬í•œ ë§¤ê°œë³€ìˆ˜ëŠ” ì„ íƒ ì‚¬í•­ì…ë‹ˆë‹¤</em> . FaceStylizerOptionsí´ë˜ìŠ¤ì™€ HParamsí´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ëŸ¬í•œ ì¶”ê°€ ì˜µì…˜ì„ ì„¤ì •í•˜ì„¸ìš”.</p>
<p>í´ë˜ìŠ¤ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ FaceStylizerModelOptionsê¸°ì¡´ ëª¨ë¸ì„ ì‚¬ìš©ì ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëª¨ë¸ ì •í™•ë„ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì‚¬ìš©ì ì •ì˜ ë§¤ê°œë³€ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤.</p>
<ul>
<li>swap_layers: 0ê³¼ ì ì¬ ì½”ë“œ ë ˆì´ì–´ì˜ ìµœëŒ€ ë ˆì´ì–´ ì¸ë±ìŠ¤ ì‚¬ì´ì˜ ë ˆì´ì–´ ì¸ë±ìŠ¤ ì§‘í•©ì…ë‹ˆë‹¤. ê¸°ë³¸ BLAZE_FACE_STYLIZER_256ì˜ ì ì¬ ì½”ë“œ ì°¨ì›ì´ 12ì´ë¯€ë¡œ ëŠ” swap_layers0ê³¼ 11 ì‚¬ì´ì—¬ì•¼ í•©ë‹ˆë‹¤. ì´ í•˜ì´í¼íŒŒë¼ë¯¸í„°ëŠ” ìŠ¤íƒ€ì¼ ì ì¬ ì½”ë“œê°€ ì ìš©ë˜ëŠ” ë ˆì´ì–´ë¥¼ ì •ì˜í•˜ì—¬ ì›ì‹œ ì–¼êµ´ íŠ¹ì§•ê³¼ ë³´ê°„í•©ë‹ˆë‹¤. ì„ íƒí•˜ëŠ” ë ˆì´ì–´ê°€ ë§ì„ìˆ˜ë¡ ì ìš©ë˜ëŠ” ìŠ¤íƒ€ì¼ íŠ¹ì§•ë„ ë§ì•„ì§‘ë‹ˆë‹¤. ë ˆì´ì–´ ì¸ë±ìŠ¤ì™€ ì˜ë¯¸ íŠ¹ì§• ê°„ì—ëŠ” ëª…ì‹œì ì¸ ë§¤í•‘ì´ ì—†ìŠµë‹ˆë‹¤. ì‚¬ìš©ìëŠ” ì£¼ê´€ì ì¸ í‰ê°€ë¥¼ í†µí•´ ì´ëŸ¬í•œ ìŠ¤ì™‘ ë ˆì´ì–´ë¥¼ ë¯¸ì„¸ ì¡°ì •í•˜ì—¬ ìµœì ì˜ ì˜µì…˜ì„ ê²°ì •í•´ì•¼ í•©ë‹ˆë‹¤. ìˆœì„œëŠ” ì¤‘ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>
<li>alpha: ë ˆì´ì–´ ë³´ê°„ì„ ìœ„í•œ ìŠ¤íƒ€ì¼ ì ì¬ ê°€ì¤‘ì¹˜ ê³„ìˆ˜ì…ë‹ˆë‹¤. ìœ íš¨ ë²”ìœ„ëŠ” [0, 1]ì…ë‹ˆë‹¤. ê°€ì¤‘ì¹˜ê°€ ë†’ì„ìˆ˜ë¡ ì¶œë ¥ ì´ë¯¸ì§€ì— ë” ê°•í•œ ìŠ¤íƒ€ì¼ì´ ì ìš©ë©ë‹ˆë‹¤. ì‘ì€ ê°’(ì˜ˆ: &lt;0.1)ìœ¼ë¡œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.</li>
<li>perception_loss_weight: ì´ë¯¸ì§€ ì¸ì‹ í’ˆì§ˆ ì†ì‹¤ì˜ ê°€ì¤‘ ê³„ìˆ˜. ìƒì„±ëœ ì´ë¯¸ì§€ì™€ ì›ì‹œ ì…ë ¥ ì´ë¯¸ì§€ì˜ ì°¨ì´, ìƒì„±ëœ ì–¼êµ´ê³¼ ì›ì‹œ ì…ë ¥ ì–¼êµ´ì˜ ì½˜í…ì¸  ì°¨ì´, ê·¸ë¦¬ê³  ìƒì„±ëœ ì´ë¯¸ì§€ì™€ ì›ì‹œ ì…ë ¥ ì´ë¯¸ì§€ì˜ ìŠ¤íƒ€ì¼ ìœ ì‚¬ë„ë¥¼ ì œì–´í•˜ëŠ” â€‹â€‹ì„¸ ê°€ì§€ ê³„ìˆ˜, l1, content, ë¥¼ í¬í•¨í•©ë‹ˆë‹¤. ì‚¬ìš©ìëŠ” ê°€ì¤‘ì¹˜ë¥¼ ë†’ì—¬ ë” ê°•ë ¥í•œ ìŠ¤íƒ€ì¼ì„ ì ìš©í•˜ê±°ë‚˜, ê°€ì¤‘ì¹˜ë¥¼ ë†’ì—¬ ë” ë§ì€ ì›ì‹œ ì…ë ¥ ì–¼êµ´ ì„¸ë¶€ ì •ë³´ë¥¼ ë³´ì¡´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.stylestylecontent</li>
<li>adv_loss_weight: ì ëŒ€ì  ì†ì‹¤ ëŒ€ë¹„ ì´ë¯¸ì§€ ì¸ì§€ í’ˆì§ˆ ì†ì‹¤ì˜ ê°€ì¤‘ ê³„ìˆ˜. ì´ í•˜ì´í¼íŒŒë¼ë¯¸í„°ëŠ” ìƒì„±ëœ ì´ë¯¸ì§€ì˜ ì‚¬ì‹¤ì„±ì„ ì œì–´í•˜ëŠ” â€‹â€‹ë° ì‚¬ìš©ë©ë‹ˆë‹¤. 0.2 ë¯¸ë§Œì˜ ì‘ì€ ê°’ì„ ì˜ˆìƒí•©ë‹ˆë‹¤.</li>
</ul>
<p>ì´ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ HParamsëª¨ë¸ì˜ í•™ìŠµ ë° ì €ì¥ê³¼ ê´€ë ¨ëœ ë‹¤ë¥¸ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©ì ì •ì˜í•©ë‹ˆë‹¤.</p>
<ul>
<li>learning_rate: ê²½ì‚¬ í•˜ê°•ë²• í•™ìŠµì— ì‚¬ìš©í•  í•™ìŠµë¥ ì…ë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ 8e-4ì…ë‹ˆë‹¤.</li>
<li>batch_size: í•™ìŠµì„ ìœ„í•œ ë°°ì¹˜ í¬ê¸°ì…ë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ 4ì…ë‹ˆë‹¤.</li>
<li>epochs: ë°ì´í„° ì„¸íŠ¸ì— ëŒ€í•œ í•™ìŠµ ë°˜ë³µ íšŸìˆ˜ì…ë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ 100ì…ë‹ˆë‹¤.</li>
<li>beta_1: tf.keras.optimizers.Adamì—ì„œ ì‚¬ìš©ë˜ëŠ” beta_1ì…ë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ 0.0ì…ë‹ˆë‹¤.</li>
<li>beta_2: tf.keras.optimizers.Adamì—ì„œ ì‚¬ìš©ë˜ëŠ” beta_2ì…ë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ 0.99ì…ë‹ˆë‹¤.</li>
</ul>
<h2 is-upgraded><strong>6.9 Android ì•±ì— í†µí•©</strong></h2>
<p>- <code>assets</code> ë””ë ‰í† ë¦¬ì— <code>face_stylizer_custom.task</code> íŒŒì¼ ì¶”ê°€<br>- FaceStylizer ì´ˆê¸°í™” ì‹œ ëª¨ë¸ ê²½ë¡œë¥¼ ìƒˆ íŒŒì¼ë¡œ ì§€ì •:</p>
<h3 is-upgraded><strong>FaceStylizationHelper.kt</strong></h3>
<pre><code>val baseOptions = BaseOptions.builder()
    .setModelAssetPath(&#34;face_stylizer_custom.task&#34;)
    .build()</code></pre>


      </google-codelab-step>
    
      <google-codelab-step label="ì¶•í•˜í•©ë‹ˆë‹¤!" duration="0">
        <p>Face Stylizer ì•±ì„ ì²˜ìŒë¶€í„° ì§ì ‘ ë§Œë“¤ì–´ë³´ê³ , ê¸°ë³¸ ëª¨ë¸ ì ìš©ë¿ ì•„ë‹ˆë¼ ë‹¤ì–‘í•œ ìŠ¤íƒ€ì¼ ì „í™˜, ì‹¬ì§€ì–´ <strong>ì»¤ìŠ¤í…€ ëª¨ë¸</strong>ê¹Œì§€ ì„±ê³µì ìœ¼ë¡œ ë‹¤ë£¨ì—ˆìŠµë‹ˆë‹¤.</p>
<ul>
<li>Android Compose ê¸°ë°˜ì˜ ê°¤ëŸ¬ë¦¬ ì—°ë™</li>
<li>MediaPipe Tasks SDKë¥¼ í™œìš©í•œ ì˜¨ë””ë°”ì´ìŠ¤ ìŠ¤íƒ€ì¼ ë³€í™˜</li>
<li>ì§ì ‘ ë§Œë“  ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼ ëª¨ë¸ ì ìš©<br></li>
</ul>
<p>ì´ ëª¨ë“  ê³¼ì •ì„ ìŠ¤ìŠ¤ë¡œ í•´ë‚¸ ì—¬ëŸ¬ë¶„ì€,<br> <strong>Android on-device AI</strong> ë¶„ì•¼ì— í•œ ë°œ ë” ê¹Šìˆ™íˆ ë“¤ì–´ì„  ê²ƒì…ë‹ˆë‹¤.</p>
<p>ì§„ì‹¬ìœ¼ë¡œ ì¶•í•˜ë“œë¦½ë‹ˆë‹¤!</p>
<h2 is-upgraded><strong>ğŸš€ What&#39;s next?</strong></h2>
<p>ì´ì œ ì—¬ëŸ¬ë¶„ì˜ ì‹¤ë ¥ì„ ë” í™•ì¥í•´ë³¼ ì‹œê°„ì…ë‹ˆë‹¤.</p>
<h3 is-upgraded><strong>âœ¨ ì¶”ì²œ ë„ì „ ê³¼ì œ</strong></h3>
<table>
<tr><td colspan="1" rowspan="1"><p><strong>ì£¼ì œ</strong></p>
</td><td colspan="1" rowspan="1"><p><strong>ì„¤ëª…</strong></p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>1. MediaPipe ë‹¤ë¥¸ Vision Task ì²´í—˜í•˜ê¸°</p>
</td><td colspan="1" rowspan="1"><p>Object Detection, Hand Tracking, Pose Landmark ë“± ë‹¤ì–‘í•œ Vision ì†”ë£¨ì…˜ì„ MediaPipeë¡œ ì§ì ‘ êµ¬í˜„í•´ë³´ì„¸ìš”.</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>2. ì‹¤ì‹œê°„ ì¹´ë©”ë¼ ìŠ¤íŠ¸ë¦¼ ì ìš©</p>
</td><td colspan="1" rowspan="1"><p>ê°¤ëŸ¬ë¦¬ ì´ë¯¸ì§€ê°€ ì•„ë‹ˆë¼, ì¹´ë©”ë¼ ì‹¤ì‹œê°„ ì…ë ¥ì— ìŠ¤íƒ€ì¼ ë³€í™˜ì„ ì ìš©í•´ë³´ì„¸ìš”. (ì•½ê°„ ë‚œì´ë„ ë†’ìŒ)</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>3. ì»¤ìŠ¤í…€ ëª¨ë¸ ë‹¤ì–‘í™”</p>
</td><td colspan="1" rowspan="1"><p>í•˜ë‚˜ì˜ ìŠ¤íƒ€ì¼ì´ ì•„ë‹ˆë¼, ë‹¤ì–‘í•œ ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼ì„ ì „í™˜í•  ìˆ˜ ìˆëŠ” ì•±ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”.</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>4. ì„±ëŠ¥ ìµœì í™”</p>
</td><td colspan="1" rowspan="1"><p>on-device ëª¨ë¸ ì‹¤í–‰ ì„±ëŠ¥ì„ ë¶„ì„í•˜ê³ , ì²˜ë¦¬ ì†ë„ í–¥ìƒì´ë‚˜ ë©”ëª¨ë¦¬ ìµœì í™”ë¥¼ ì‹œë„í•´ë³´ì„¸ìš”.</p>
</td></tr>
</table>
<h2 is-upgraded><strong>ğŸ§© ì¶”ì²œ ì˜ˆì œ ì‹¤ìŠµ: MediaPipe ë‹¤ë¥¸ ì˜ˆì œ ë‹¤ë£¨ê¸°</strong></h2>
<p>ì•„ë˜ MediaPipe Vision Taskë“¤ë„ Androidì—ì„œ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<ul>
<li><strong>Object Detector</strong>: ê°ì²´ ê°ì§€ (ì‚¬ì§„ ì† ì‚¬ë¬¼ì„ ì¸ì‹)<br></li>
<li><strong>Hand Landmarker</strong>: ì† ê´€ì ˆ ê²€ì¶œ<br></li>
<li><strong>Pose Landmarker</strong>: ì „ì‹  í¬ì¦ˆ ì¸ì‹<br></li>
<li><strong>Image Segmenter</strong>: ì´ë¯¸ì§€ ë°°ê²½ ë¶„ë¦¬<br></li>
</ul>
<p>ğŸ‘‰<a href="https://github.com/google-ai-edge/mediapipe-samples/tree/main/examples" target="_blank">MediaPipe Samples for Android on GitHub</a></p>
<p>â¡ï¸ ê´€ì‹¬ ìˆëŠ” Taskë¥¼ ê³¨ë¼, ì˜¤ëŠ˜ ë°°ìš´ íë¦„ì²˜ëŸ¼ ì§ì ‘ Compose ì•±ì— ì ìš©í•´ë³´ì„¸ìš”.</p>


      </google-codelab-step>
    
  </google-codelab>

  <script src="https://storage.googleapis.com/claat-public/native-shim.js"></script>
  <script src="https://storage.googleapis.com/claat-public/custom-elements.min.js"></script>
  <script src="https://storage.googleapis.com/claat-public/prettify.js"></script>
  <script src="https://storage.googleapis.com/claat-public/codelab-elements.js"></script>
  <script src="//support.google.com/inapp/api.js"></script>

</body>
</html>
